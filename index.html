<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://note.luanheart.com">
  <title>luanheart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="luanheart">
<meta property="og:url" content="http://note.luanheart.com/index.html">
<meta property="og:site_name" content="luanheart">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="luanheart">
  
    <link rel="alternative" href="/atom.xml" title="luanheart" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" type="text/css" href="/./main.0cf68a.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="http://qn.luanheart.com/default_avatar.jpeg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">luanheart</a></h1>
		</hgroup>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)">友链</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/luanheart" title="github"><i class="icon-github"></i></a>
		        
					<a class="mail" target="_blank" href="mailto:luanheartx@gmail.com" title="mail"><i class="icon-mail"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="http://qn.luanheart.com/default_avatar.jpeg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">luanheart</h1>
			</hgroup>
			
			
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/luanheart" title="github"><i class="icon-github"></i></a>
			        
						<a class="mail" target="_blank" href="mailto:luanheartx@gmail.com" title="mail"><i class="icon-mail"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 50%">
				
				
					<li style="width: 100%"><a href="/">主页</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-数据填充类不存在" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/08/数据填充类不存在/">数据填充类不存在</a>
    </h1>
  

        
        <a href="/2018/05/08/数据填充类不存在/" class="archive-article-date">
  	<time datetime="2018-05-08T09:45:33.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-05-08</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>执行数据填充命令 <code>php artisan db:seed</code> ，报错显示类不存在。</p>
<p>原因：手动添加数据填充文件，未添加到 composer 的自动加载中。</p>
<p>解决：执行 <code>composer dump-autoload</code>，重新生成自动加载文件</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">laravel</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">composer</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/05/08/数据填充类不存在/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-shell十三问" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/25/shell十三问/">shell十三问</a>
    </h1>
  

        
        <a href="/2018/01/25/shell十三问/" class="archive-article-date">
  	<time datetime="2018-01-25T03:53:01.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-01-25</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>转自 <a href="https://github.com/wzb56/13_questions_of_shell" target="_blank" rel="noopener">https://github.com/wzb56/13_questions_of_shell</a></p>
</blockquote>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol>
<li><a href="#shell十三问之1: 何为shell？">shell十三问之1: 何为shell？</a></li>
<li><a href="#shell十三问之2：shell-prompt-PS1-与Carriage-Return-CR-关系">shell十三问之2：shell prompt(PS1)与Carriage Return(CR)关系</a></li>
<li><a href="#shell十三问之3：别人echo、你也echo，是问echo知多少？">shell十三问之3：别人echo、你也echo，是问echo知多少？</a></li>
<li><a href="#shell十三问之4：””-双引号-与’’-单引号-差在哪？">shell十三问之4：””(双引号)与’’(单引号)差在哪？</a></li>
<li><a href="#shell十三问之5：问var-value-在export前后的差在哪？">shell十三问之5：问var=value 在export前后的差在哪？</a></li>
<li><a href="#shell十三问之6：exec跟source差在哪？">shell十三问之6：exec跟source差在哪？</a></li>
<li><a href="#shell十三问之7：-与-差在哪？">shell十三问之7：()与{}差在哪？</a></li>
<li><a href="#shell十三问之8-与-还有-差在哪？">shell十三问之8: $(())与$()还有${}差在哪？</a></li>
<li><a href="#shell十三问之9：-与-差在哪？">shell十三问之9：$@与$*差在哪？</a></li>
<li><a href="#shell十三问之10：-amp-amp-与-差在哪？">shell十三问之10：&amp;&amp; 与 || 差在哪？</a></li>
<li><a href="#shell十三问之11：-gt-与-lt-差在哪？">shell十三问之11：&gt;与&lt; 差在哪？</a></li>
<li><a href="#shell十三问之12：你要if还是case呢？">shell十三问之12：你要if还是case呢？</a></li>
<li><a href="#shell十三问之13：-for-what？-while与until差在哪？">shell十三问之13： for what？ while与until差在哪？</a></li>
<li><a href="#shell十三问之14-跟-差在哪？-wildcard">shell十三问之14: [^ ] 跟[! ]差在哪？ (wildcard)</a></li>
<li><a href="#shell十三问之15-跟-差在哪？-RE-Regular-Expression）">shell十三问之15: [^ ] 跟[! ]差在哪？ (RE: Regular Expression）</a></li>
<li><a href="#shell十三问之16：学习总结与原帖目录">shell十三问之16：学习总结与原帖目录</a></li>
</ol>
<h2 id="shell十三问之1-何为shell？"><a href="#shell十三问之1-何为shell？" class="headerlink" title="shell十三问之1: 何为shell？"></a>shell十三问之1: 何为shell？</h2><p><code>shell</code>是什么东西之前，不妨让我们重新审视<code>使用者</code>和<code>计算机系统</code>的关系：<br>（此处为使用者和计算机系统的关系图）</p>
<p>我们知道计算机的运作不能离开硬件，但使用者却无法直接操作硬件，<br>硬件的驱动只能通过一种称为“<code>操作系统</code>(<code>OS</code>，<code>Opertating System</code>)”的软件来管控。<br>事实上，我们每天所谈的“<code>linux</code>”，严格来说只是一个<code>操作系统</code>(<code>OS</code>),<br>我们称之为“<code>内核</code>(<code>kernel</code>)”。</p>
<p>然而，从使用者的角度来说，使用者没有办法直接操作一个<code>kernel</code>，<br>而是通过<code>kernel</code>的“外壳”程序，也就是所谓的<code>shell</code>，来与<code>kernel</code>沟通。<br>这也正是<code>kernel</code>跟<code>shell</code>的形象命名的的关系。如图：<br> （此处为kernel–&gt;shell关系图；)</p>
<p>从技术的角度来说，<code>shell</code>是一个使用者与系统的<code>交互界面(interface)</code>,<br>只能让使用者通过<code>命令行</code>(<code>command line</code>)来使用系统来完成工作。<br>因此，<code>shell</code>最简单的定义就是—-<code>命令解释器</code>( <code>Command Interpreter</code>):</p>
<ul>
<li>将使用者的命令翻译给kernel来处理；</li>
<li>同时，将kernel的处理结果翻译给使用者。</li>
</ul>
<p>每次当我们完成<code>系统登入</code>(<code>login</code>), 我们就取得一个交互模式的shell，<br>也称之为<code>login shell</code> 或者 <code>primary shell</code>。</p>
<p>若从<code>进程</code>(<code>process</code>)的角度来说，我们在shell所下达的命令，均是shell所产生的<code>子进程</code>。<br>这种现象，我暂可称之为<code>fork</code>。</p>
<p>如果是执行<code>shell脚本</code>(<code>shell script</code>)的话，脚本中命令则是由另一个非交互模式的<br><code>子shell</code>(<code>sub shell</code>)来执行的。 也就是primary shell产生sub shell的进程，而该sub shell<br>进程再产生script中所有命令的进程。<br> (关于进程，我们日后有机会在补充)</p>
<p>这里， 我们必须知道：<code>kernel</code> 与 <code>shell</code> 是不同的两套软件，而且都是可以被替换的：</p>
<ul>
<li>不同的<code>OS</code>使用不同的<code>kernel</code>;</li>
<li>同一个kernel之上，也可以使用不同的<code>shell</code>;</li>
</ul>
<p>在<code>Linux</code>的预设系统中，通常可以找到好几种不同的<code>shell</code>,<br>且通常会被记录在如下文件中：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/shells</span><br></pre></td></tr></table></figure></p>
<p>不同的<code>shell</code>有着不同的功能，且彼此各异，或者说“大同小异”。<br>常见的<code>shell</code>主要分为两大主流：</p>
<ol>
<li>sh：<ul>
<li>burne shell (sh)</li>
<li>burne again shell (bash)</li>
</ul>
</li>
<li>csh：<ul>
<li>c shell (csh)</li>
<li>tc shell (tcsh)</li>
<li>korn shell (ksh)<br>(FIXME)</li>
</ul>
</li>
</ol>
<p>大部分的Linux操作系统的预设shell都是<code>bash</code>，其原因大致如下两种：</p>
<ul>
<li>自由软件</li>
<li>功能强大<br>bash是gnu project最成功的产品之一，自推出以来深受广大<code>Unix</code>用户的喜爱，<br>且也逐渐成为不少组织的系统标准。</li>
</ul>
<h2 id="shell十三问之2：shell-prompt-PS1-与Carriage-Return-CR-关系"><a href="#shell十三问之2：shell-prompt-PS1-与Carriage-Return-CR-关系" class="headerlink" title="shell十三问之2：shell prompt(PS1)与Carriage Return(CR)关系"></a>shell十三问之2：shell prompt(PS1)与Carriage Return(CR)关系</h2><p>当你成功登陆一个shell终端的文字界面之后，大部分的情形下，<br>你会在屏幕上看到一个不断闪烁的方块或者底线(视不同的版本而别)，<br>我们称之为<code>游标</code>(<code>cursor</code>).<br><code>cursor</code>作用就是告诉你接下来你从键盘输入的按键所插入的位置，<br>且每输入一个键，<code>cursor</code>便向右移动一个格子，<br>如果连续输入太多的话，则自动接在下一行输入。</p>
<p>假如你刚完成登陆，还没有输入任何按键之前，<br>你所看到的<code>cursor</code>所在的位置的同一行的左边部分，我们称之为<code>提示符</code>(<code>prompt</code>)。</p>
<p><code>提示符</code>的格式或因不同的版本而各有不同，<br>在Linux上，只需留意最接近<code>游标</code>的一个提示符号，通常是如下两者之一：</p>
<ul>
<li>$: 给一般用户账号使用;</li>
<li>#: 给root(管理员)账号使用;</li>
</ul>
<p>事实上，shell prompt的意思很简单：<br>告诉shell使用者，您现在可以输入命令行了。</p>
<p>我们可以说，使用者只有在得到shell prompt才能打命令行，<br>而<code>cursor</code>是指示键盘在命令行的输入位置，使用者每输入一个键，<br><code>cursor</code>就往后移动一个格，直到碰到命令行读进<code>CR</code>(<code>Carriage Return</code>, 由<code>Enter</code>键产生)字符为止。<br> <code>CR</code>的意思也很简单：<br>使用者告诉shell：老兄，你可以执行的我命令行了。<br>严格来说：<br>所谓的命令行， 就是在<code>shell prompt</code>与<code>CR</code>之间所输入的文字。</p>
<p>(<strong>question：为何我们这里坚持使用<code>CR</code>字符而不说<code>Enter</code>按键呢？<br>答案在后面的学习中给出</strong>)。</p>
<p>不同的命令可以接受的命令的格式各有不同，<br>一般情况下，一个标准的命令行格式为如下所列：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command-name options argument</span><br></pre></td></tr></table></figure></p>
<p>若从技术的细节上来看，<br>shell会依据<code>IFS</code>(<code>Internal Field Seperator</code>) 将 command line<br>所输入的文字给拆解为<code>字段</code>(<code>word</code>).<br>然后在针对特殊的字符(meta)先做处理，最后在重组整行command line。</p>
<p>(<strong>注意：请务必理解以上两句的意思，我们日后的学习中常回到这里思考</strong>。)</p>
<p>其中<code>IFS</code>是shell预设使用的字段位分隔符号，可以由一个及多个如下按键组成：</p>
<ul>
<li>空白键(White Space)</li>
<li>表格键(Tab)</li>
<li>回车键(Enter)</li>
</ul>
<p>系统可以接受的命令的名称(command-name)可以从如下途径获得：</p>
<ul>
<li>确的路径所指定的外部命令</li>
<li>命令的别名(alias)</li>
<li>shell内建命令(built-in)</li>
<li>$PATH之下的外部命令</li>
</ul>
<p>每一个命令行均必须包含命令的名称，这是不能缺少的。</p>
<h2 id="shell十三问之3：别人echo、你也echo，是问echo知多少？"><a href="#shell十三问之3：别人echo、你也echo，是问echo知多少？" class="headerlink" title="shell十三问之3：别人echo、你也echo，是问echo知多少？"></a>shell十三问之3：别人echo、你也echo，是问echo知多少？</h2><p>承接上一章介绍的<code>command line</code>, 这里我们用<code>echo</code>这个命令加以进一步说明。</p>
<blockquote>
<p> <strong>温习</strong><br> 标准的<code>command line</code>三个组成部分：<code>command_name option argument</code></p>
</blockquote>
<p><code>echo</code>是一个非常简单、直接的Linux命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>echo argument</span><br></pre></td></tr></table></figure>
<p><code>echo</code>将argument送出到<code>标准输出</code>(<code>stdout</code>),通常是在监视器(monitor)上输出。</p>
<blockquote>
<p><strong>Note：</strong></p>
<p>在linux系统中任何一个进程默认打开三个文件：stdin、stdout、stderr.</p>
<p>stdin  标准输入</p>
<p>stdout 标准输出</p>
<p>stderr 标准错误输出</p>
</blockquote>
<p>为了更好理解，不如先让我们先跑一下<code>echo</code>命令好了：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>echo</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span></span><br></pre></td></tr></table></figure></p>
<p>你会发现只有一个空白行，然后又回到了<code>shell prompt</code>上了。<br>这是因为<code>echo</code>在预设上，在显示完argument之后，还会送出以一个换行符号<br>(<code>new-line charactor</code>).<br>但是上面的command <code>echo</code>并没有任何argument，那结果就只剩一个换行符号。<br>若你要取消这个换行符号， 可以利用<code>echo</code>的<code>-n</code> 选项:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>echo -n</span><br><span class="line"><span class="meta">$</span></span><br></pre></td></tr></table></figure></p>
<p>不妨让我们回到<code>command line</code>的概念上来讨论上例的echo命令好了：<br><code>command line</code>只有command_name(<code>echo</code>)及option(<code>-n</code>),并没有显示任何<code>argument</code>。</p>
<p>要想看看<code>echo</code>的<code>argument</code>，那还不简单接下来，你可以试试如下的输入：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>echo first line</span><br><span class="line">first line</span><br><span class="line"><span class="meta">$</span>echo -n first line</span><br><span class="line">first line $</span><br></pre></td></tr></table></figure></p>
<p>以上两个<code>echo</code>命令中，你会发现<code>argument</code>的部分显示在你的屏幕，<br>而换行符则视 <code>-n</code> 选项的有无而别。<br>很明显的，第二个<code>echo</code>由于换行符被取消了，<br>接下来的<code>shell prompt</code>就接在输出结果的同一行了… ^_^。</p>
<p>事实上，<code>echo</code>除了<code>-n</code> 选项之外，常用选项有：</p>
<ul>
<li>-e: 启用反斜杠控制字符的转换(参考下表)</li>
<li>-E: 关闭反斜杠控制字符的转换(预设如此)</li>
<li>-n: 取消行末的换行符号(与-e选项下的\c字符同意)</li>
</ul>
<p>关于<code>echo</code>命令所支持的反斜杠控制字符如下表：</p>
<table>
<thead>
<tr>
<th>转义字符</th>
<th>字符的意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>\a</td>
<td>ALERT / BELL(从系统的喇叭送出铃声)</td>
</tr>
<tr>
<td>\b</td>
<td>BACKSPACE, 也就是向左退格键</td>
</tr>
<tr>
<td>\c</td>
<td>取消行末之换行符号</td>
</tr>
<tr>
<td>\E</td>
<td>ESCAPE, 脱字符键</td>
</tr>
<tr>
<td>\f</td>
<td>FORMFEED, 换页字符</td>
</tr>
<tr>
<td>\n</td>
<td>NEWLINE,  换行字符</td>
</tr>
<tr>
<td>\r</td>
<td>RETURN,  回车键</td>
</tr>
<tr>
<td>\t</td>
<td>TAB, 表格跳位键</td>
</tr>
<tr>
<td>\v</td>
<td>VERTICAL TAB, 垂直表格跳位键</td>
</tr>
<tr>
<td>\n</td>
<td>ASCII 八进制编码(以x开头的为十六进制)，此处的n为数字</td>
</tr>
<tr>
<td>\</td>
<td>反斜杠本身</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note：</strong><br>上述表格的资料来自O’Reilly出版社的<strong>Learning the Bash Shell, 2nd Ed</strong>.</p>
</blockquote>
<p>或许，我们可以通过实例来了解<code>echo</code>的选项及控制字符：</p>
<p>例一：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> echo -e "a\tb\tc\n\d\te\tf"</span><br><span class="line">a    b	c</span><br><span class="line">d	e	f</span><br><span class="line"><span class="meta">$</span></span><br></pre></td></tr></table></figure></p>
<p>上例中，用\t来分割abc还有def，及用\n将def换至下一行。</p>
<p>例二：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>echo -e "\141\011\142\011\143\012\144\011\145\011\146"</span><br><span class="line">a	b	c</span><br><span class="line">d	e	f</span><br></pre></td></tr></table></figure></p>
<p>与例一中结果一样，只是使用ASCII八进制编码。</p>
<p>例三：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>echo -e "\x61\x09\x62\x09\x63\x0a\x64\x09\x65\x09\x66"</span><br><span class="line">a	b	c</span><br><span class="line">d	e	f</span><br></pre></td></tr></table></figure></p>
<p>与例二差不多，只是这次换用ASCII的十六进制编码。</p>
<p>例四：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>echo -ne "a\tb\tc\nd\te\bf\a"</span><br><span class="line">a       b       c</span><br><span class="line">d       f $</span><br></pre></td></tr></table></figure></p>
<p>因为e字母后面是退格键(\b)，因此输出结果就没有e了。<br>在结束的时听到一声铃响，是\a的杰作。<br>由于同时使用了-n选项，因此<code>shell prompt</code>紧接在第二行之后。<br>若你不用-n的话，那你在\a后再加个\c，也是同样的效果。</p>
<p>事实上，在日后的<code>shell</code>操作及<code>shell script</code>设计上，<br><code>echo</code>命令是最常被使用的命令之一。<br>比方说，使用<code>echo</code>来检查变量值：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">B</span><br><span class="line"><span class="meta">$</span> echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p> <strong>Note:</strong><br> 关于变量的概念，我们留到以下的两章跟大家说明。</p>
</blockquote>
<p>好了，更多的关于<code>command line</code>的格式， 以及<code>echo</code>命令的选项，<br>请您自行多加练习、运用了…</p>
<h2 id="shell十三问之4：””-双引号-与’’-单引号-差在哪？"><a href="#shell十三问之4：””-双引号-与’’-单引号-差在哪？" class="headerlink" title="shell十三问之4：””(双引号)与’’(单引号)差在哪？"></a>shell十三问之4：””(双引号)与’’(单引号)差在哪？</h2><p>还是回到我们的<code>command line</code>来吧…</p>
<p>经过前面两章的学习，应该很清楚当你在<code>shell prompt</code>后面敲打键盘,<br>直到按下<code>Enter</code>键的时候，你输入的文字就是<code>command line</code>了，<br>然后<code>shell</code>才会以进程的方式执行你所交给它的命令。<br>但是，你又可知道：你在<code>command line</code>中输入的每一个文字，<br>对<code>shell</code>来说，是有类别之分的呢？</p>
<p>简单而言，(我不敢说精确的定义，注1),<br><code>command line</code>的每一个<code>charactor</code>, 分为如下两种：</p>
<ul>
<li>literal：也就是普通的纯文字，对<code>shell</code>来说没特殊功能；</li>
<li>meta: 对<code>shell</code>来说，具有特定功能的特殊保留元字符。</li>
</ul>
<blockquote>
<p><strong>Note:</strong></p>
<p>对于<code>bash shell</code>在处理<code>comamnd line</code>的顺序说明，<br>请参考O’Reilly出版社的<strong>Learning the Bash Shell，2nd Edition</strong>，<br>第177-180页的说明，尤其是178页的流程图：Figure 7-1 …</p>
</blockquote>
<p><code>literal</code>没什么好谈的，<br>像abcd、123456这些”文字”都是literal…(so easy? ^_^)<br>但meta却常使我们困惑…(confused?)<br>事实上，前两章，我们在<code>command line</code>中已碰到两个<br>似乎每次都会碰到的meta：</p>
<ul>
<li><code>IFS</code>：有<code>space</code>或者<code>tab</code>或者<code>Enter</code>三者之一组成(我们常用space)</li>
<li><code>CR</code>: 由<code>Enter</code>产生；</li>
</ul>
<p><code>IFS</code>是用来拆解<code>command line</code>中每一个词(word)用的，<br>因为<code>shell command line</code>是按词来处理的。<br>而<code>CR</code>则是用来结束<code>command line</code>用的，这也是为何我们敲<code>Enter</code>键，<br>命令就会跑的原因。</p>
<p>除了常用的<code>IFS</code>与<code>CR</code>, 常用的meta还有：</p>
<table>
<thead>
<tr>
<th>meta字符</th>
<th>meta字符作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>=</td>
<td>设定变量</td>
</tr>
<tr>
<td>$</td>
<td>作变量或运算替换(请不要与<code>shell prompt</code>混淆)</td>
<td>命令</td>
</tr>
<tr>
<td>&gt;</td>
<td>输出重定向(重定向stdout)</td>
</tr>
<tr>
<td>&lt;</td>
<td>输入重定向(重定向stdin)</td>
</tr>
<tr>
<td>\</td>
<td></td>
<td>命令管道</td>
</tr>
<tr>
<td>&amp;</td>
<td>重定向file descriptor或将命令至于后台(bg)运行</td>
</tr>
<tr>
<td>()</td>
<td>将其内部的命令置于nested subshell执行，或用于运算或变量替换</td>
</tr>
<tr>
<td>{}</td>
<td>将期内的命令置于non-named function中执行，或用在变量替换的界定范围</td>
</tr>
<tr>
<td>;</td>
<td>在前一个命令执行结束时，而忽略其返回值，继续执行下一个命令</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>在前一个命令执行结束时，若返回值为true，继续执行下一个命令</td>
</tr>
<tr>
<td>\</td>
<td>\</td>
<td></td>
<td>在前一个命令执行结束时，若返回值为false，继续执行下一个命令</td>
</tr>
<tr>
<td>!</td>
<td>执行histroy列表中的命令</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>假如我们需要在<code>command line</code>中将这些保留元字符的功能关闭的话，<br>就需要quoting处理了。</p>
<p>在<code>bash</code>中，常用的quoting有以下三种方法：</p>
<ul>
<li>hard quote：’’(单引号)，凡在hard quote中的所有meta均被关闭；</li>
<li>soft quote：””(双引号)，凡在soft quote中大部分meta都会被关闭，但某些会保留(如$);</li>
<li>escape: \ (反斜杠)，只有在紧接在escape(跳脱字符)之后的单一meta才被关闭；</li>
</ul>
<blockquote>
<p><strong>Note:</strong></p>
<p> 在soft quote中被豁免的具体meta清单，我不完全知道，<br> 有待大家补充，或通过实践来发现并理解。</p>
</blockquote>
<p>下面的例子将有助于我们对quoting的了解：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B C #空白符未被关闭，作为IFS处理</span><br><span class="line"><span class="meta">$</span> C：command not found.</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span> A="B C" #空白符已被关掉，仅作为空白符</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">B C</span><br></pre></td></tr></table></figure></p>
<p>在第一个给A变量赋值时，由于空白符没有被关闭，<br><code>command line</code> 将被解释为：<br><code>A=B 然后碰到&lt;IFS&gt;，接着执行C命令</code><br>在第二次给A变量赋值时，由于空白符被置于soft quote中，<br>因此被关闭，不在作为<code>IFS</code>；<br><code>A=B&lt;space&gt;C</code><br>事实上，空白符无论在soft quote还是在hard quote中，<br>均被关闭。Enter键字符亦然：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=`B</span><br><span class="line"><span class="meta">&gt;</span> C</span><br><span class="line"><span class="meta">&gt;</span> '</span><br><span class="line"><span class="meta">$</span> echo "$A"</span><br><span class="line">B</span><br><span class="line">C</span><br></pre></td></tr></table></figure>
<p>在上例中，由于<code>enter</code>被置于hard quote当中，因此不再作为<code>CR</code>字符来处理。<br>这里的<code>enter</code>单纯只是一个断行符号(new-line)而已，<br>由于<code>command line</code>并没得到<code>CR</code>字符，<br>因此进入第二个<code>shell prompt</code>(<code>PS2</code>, 以&gt;符号表示)，<br><code>command line</code>并不会结束，直到第三行，<br>我们输入的<code>enter</code>并不在hard quote里面，<br>因此没有被关闭，<br>此时，<code>command line</code>碰到<code>CR</code>字符，于是结束，交给shell来处理。</p>
<p>上例的<code>Enter</code>要是被置于soft quote中的话，<code>CR</code>字符也会同样被关闭：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A="B</span><br><span class="line"><span class="meta">&gt;</span> C</span><br><span class="line"><span class="meta">&gt;</span> "</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">B C</span><br></pre></td></tr></table></figure>
<p>然而，由于 <code>echo $A</code>时的变量没有置于soft quote中，<br>因此，当变量替换完成后，并作命令行重组时，<code>enter</code>被解释为<code>IFS</code>，<br>而不是new-line字符。</p>
<p>同样的，用escape亦可关闭CR字符：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B\</span><br><span class="line"><span class="meta">&gt;</span> C\</span><br><span class="line"><span class="meta">&gt;</span></span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">BC</span><br></pre></td></tr></table></figure></p>
<p>上例中的，第一个<code>enter</code>跟第二个<code>enter</code>均被escape字符关闭了，<br>因此也不作为<code>CR</code>来处理，但第三个<code>enter</code>由于没有被escape，<br>因此，作为<code>CR</code>结束<code>command line</code>。<br>但由于<code>enter</code>键本身在shell meta中特殊性，在 \ escape字符后面<br>仅仅取消其<code>CR</code>功能， 而不保留其IFS功能。</p>
<p>你或许发现光是一个<code>enter</code>键所产生的字符，就有可能是如下这些可能：</p>
<ul>
<li>CR</li>
<li>IFS</li>
<li>NL(New Line)</li>
<li>FF(Form Feed)</li>
<li>NULL</li>
<li>…</li>
</ul>
<p>至于，什么时候解释为什么字符，这个我就没法去挖掘了，<br>或者留给读者君自行慢慢摸索了…^-^</p>
<p>至于soft quote跟hard quote的不同，主要是对于某些meta的关闭与否，以$来做说明：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B\ C</span><br><span class="line"><span class="meta">$</span> echo "$A"</span><br><span class="line">B C</span><br><span class="line"><span class="meta">$</span> echo '$A'</span><br><span class="line"><span class="meta">$</span>A</span><br></pre></td></tr></table></figure></p>
<p>在第一个<code>echo</code>命令行中，$被置于soft quote中，将不被关闭，<br>因此继续处理变量替换，<br>因此，<code>echo</code>将A的变量值输出到屏幕，也就是”B C”的结果。</p>
<p>在第二个<code>echo</code>命令行中，$被置于hard quote中，则被关闭，<br>因此，$只是一个$符号，并不会用来做变量替换处理，<br>因此结果是$符号后面接一个A字母：$A.</p>
<blockquote>
<p> <strong>练习与思考:</strong> 如下结果为何不同？</p>
<p> tips: 单引号和双引号，在quoting中均被关闭了。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B\ C</span><br><span class="line"><span class="meta">$</span> echo '"$A"'  #最外面的是单引号</span><br><span class="line">"$A"</span><br><span class="line"><span class="meta">$</span> echo "'$A'"  #最外面的是双引号</span><br><span class="line">'B C'</span><br></pre></td></tr></table></figure>
<hr>
<p>在CU的shell版里，我发现很多初学者的问题，<br>都与quoting的理解有关。<br>比方说，若我们在awk或sed的命令参数中，<br>调用之前设定的一些变量时，常会问及为何不能的问题。</p>
<p>要解决这些问题，关键点就是：<strong>区分出 shell meta 与 command meta</strong></p>
<p>前面我们提到的那些meta，都是在command line中有特殊用途的，<br>比方说{}就是将一系列的command line置于不具名的函数中执行(可简单视为command block)，<br>但是，awk却需要用{}来区分出awk的命令区段(BEGIN,MAIN,END).<br>若你在command line中如此输入：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> awk &#123;print $0&#125; 1.txt</span><br></pre></td></tr></table></figure></p>
<p>由于{}在shell中并没有关闭，那shell就将{print $0}视为command block，<br>但同时没有<code>;</code>符号作命令分隔，因此，就出现awk语法错误结果。</p>
<p>要解决之，可用hard quote:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk '&#123;print $0&#125;'</span><br></pre></td></tr></table></figure></p>
<p>上面的hard quote应好理解，就是将原来的<br>{、<space>、$、}这几个shell meta关闭，<br>避免掉在shell中遭到处理，而完整的成为awk的参数中command meta。</space></p>
<blockquote>
<p><strong>Note:</strong></p>
<p>awk中使用的$0 是awk中内建的field nubmer，而非awk的变量，<br>awk自身的变量无需使用$.</p>
</blockquote>
<p>要是理解了hard quote的功能，在来理解soft quote与escape就不难：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk "&#123;print \$0&#125;" 1.txt</span><br><span class="line">awk \&#123;print \$0\&#125; 1.txt</span><br></pre></td></tr></table></figure></p>
<p>然而，若要你改变awk的$0的0值是从另一个shell变量中读进呢？<br>比方说：已有变量$A的值是0， 那如何在<code>command line</code>中解决<br>awk的$$A呢？<br>你可以很直接否定掉hard quote的方案：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> awk '&#123;print $$A&#125;' 1.txt</span><br></pre></td></tr></table></figure></p>
<p>那是因为$A的$在hard quote中是不能替换变量的。</p>
<p>聪明的读者(如你！)，经过本章的学习，我想，你应该可以理解为<br>为何我们可以使用如下操作了吧：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A=0</span><br><span class="line">awk "&#123;print \$$A&#125;" 1.txt</span><br><span class="line">awk  \&#123;print\ \$$A\&#125; 1.txt</span><br><span class="line">awk '&#123;print $'$A'&#125;' 1.txt</span><br><span class="line">awk '&#123;print $'"$A"'&#125;' 1.txt</span><br></pre></td></tr></table></figure></p>
<p>或许，你能给出更多方案… ^_^</p>
<p>更多练习：</p>
<ul>
<li><a href="http://bbs.chinaunix.net/forum/viewtopic.php?t=207178" target="_blank" rel="noopener">http://bbs.chinaunix.net/forum/viewtopic.php?t=207178</a><br>一个关于read命令的小问题：<br>很早以前觉得很奇怪：执行read命令，然后读取用户输入给变量赋值，<br>但如果输入是以空格键开始的话，这空格会被忽略，比如：<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read a  #输入：    abc</span><br><span class="line">echo "$a" #只输出abc</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>原因:<br>    变量a的值，从终端输入的值是以IFS开头，而这些IFS将被shell解释器忽略(trim)。<br>    应该与shell解释器分词的规则有关；</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read a  #输入：\ \ \ abc</span><br><span class="line">echo "$a" #只输出abc</span><br></pre></td></tr></table></figure>
<p>需要将空格字符转义</p>
<blockquote>
<p><strong>Note:</strong> </p>
<p> IFS   Internal field separators, normally  space,  tab,  and newline (see Blank Interpretation section).<br> ……<br> Blank Interpretation<br>  After parameter and command  substitution,  the  results  of substitution<br>  are scanned for internal field separator characters (those found in IFS)<br>  and split  into  distinct  arguments  where  such characters are found.<br>  Explicit null arguments (“” or  ‘’)  are  retained.<br>  Implicit  null  arguments(those  resulting  from  parameters that have no values)<br>  are removed.<br>  (refre to: man sh)</p>
</blockquote>
<p>解决思路：</p>
<ol>
<li>shell command line 主要是将整行line给分解(break down)为每一个单词(word);</li>
<li>而词与词之间的分隔符就是IFS (Internal Field Seperator)。</li>
<li>shell会对command line作处理(如替换，quoting等), 然后再按词重组。(注：别忘了这个重组特性)</li>
<li>当你用IFS来事开头一个变量值，那shell会先整理出这个词，然后在重组command line。<br>5.然而，你将IFS换成其他，那shell将视你哪些space/tab为“词”，而不是IFS。那在重组时，可以得到这些词。</li>
</ol>
<p>若你还是不理解，那来验证一下下面这个例子：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A="  abc" </span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">abc</span><br><span class="line"><span class="meta">$</span> echo "$A" #note1</span><br><span class="line">   abc</span><br><span class="line"><span class="meta">$</span> old_IFS=$IFS</span><br><span class="line"><span class="meta">$</span> IFS=;</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">   abc</span><br><span class="line"><span class="meta">$</span> IFS=$old_IFS</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">abc</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Note:</strong></p>
<ol>
<li><p>这里是用 soft quoting 将里面的 space 关闭，使之不是 meta(IFS)，<br>而是一个literal(white space);</p>
</li>
<li><p>IFS=; 意义是将IFS设置为空字符，因为;是shell的元字符(meta);</p>
</li>
</ol>
</blockquote>
<p>问题二：为什么多做了几个分号，我想知道为什么会出现空格呢？<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> a=";;;test"                              </span><br><span class="line"><span class="meta">$</span> IFS=";"                                  </span><br><span class="line"><span class="meta">$</span> echo $a                                  </span><br><span class="line">   test                                                                         </span><br><span class="line"><span class="meta">$</span> a="   test"                              </span><br><span class="line"><span class="meta">$</span> echo $a                                  </span><br><span class="line">   test                                                                         </span><br><span class="line"><span class="meta">$</span> IFS=" "                                  </span><br><span class="line"><span class="meta">$</span> echo $a                                  </span><br><span class="line">test</span><br></pre></td></tr></table></figure></p>
<p>解答：</p>
<p>这个问题，出在<code>IFS=;</code>上。<br>因为这个<code>;</code>在问题一中的command line上是一个meta,<br>并非<code>&quot;;&quot;</code>符号本身。<br>因此，<code>IFS=;</code>是将IFS设置为 null charactor<br>(不是space、tab、newline)。</p>
<p>要不是试试下面这个代码片段：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> old_IFS=$IFS</span><br><span class="line"><span class="meta">$</span> read A</span><br><span class="line">;a;b;c</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">;a;b;c</span><br><span class="line"><span class="meta">$</span> IFS=";"  #Note2</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line">a b c</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Note:</strong></p>
<p>要关闭<code>;</code>可用<code>&quot;;&quot;</code>或者<code>&#39;;&#39;</code>或者<code>\;</code>。</p>
</blockquote>
<ul>
<li><a href="http://bbs.chinaunix.net/forum/viewtopic.php?t=216729" target="_blank" rel="noopener">http://bbs.chinaunix.net/forum/viewtopic.php?t=216729</a></li>
</ul>
<p>思考问题二：文本处理：读文件时，如何保证原汁原味。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat file | while read i</span><br><span class="line">do</span><br><span class="line">   echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<p>文件file的行中包含若干空，经过read只保留不重复的空格。<br>如何才能所见即所得。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat file | while read i</span><br><span class="line">do</span><br><span class="line">   echo "X$&#123;i&#125;X"</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>从上面的输出，可以看出read，读入是按整行读入的;<br>不能原汁原味的原因：</p>
<ol>
<li>如果行的起始部分有IFS之类的字符，将被忽略;</li>
<li><code>echo $i</code>的解析过程中，首先将$i替换为字符串，<br>然后对echo 字符串中字符串分词，然后命令重组，输出结果;<br>在分词，与命令重组时，可能导致多个相邻的IFS转化为一个;</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat file | while read i</span><br><span class="line">do</span><br><span class="line">  echo "$i"</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>以上代码可以解决原因2中的，command line的分词和重组导致meta字符丢失；<br>但仍然解决不了原因1中，read读取行时，忽略行起始的IFS meta字符。</p>
<p>回过头来看上面这个问题：为何要原汁原味呢？<br>cat命令就是原汁原味的，只是shell的read、echo导致了某些shell的meta字符丢失;</p>
<p>如果只是IFS meta的丢失，可以采用如下方式：<br>将IFS设置为null，即<code>IFS=;</code>,<br>在此再次重申此处<code>;</code>是shell的meta字符,而不是literal字符;<br>因此要使用literal的    <code>;</code>应该是<code>\;</code><br>或者关闭meta 的(soft/hard) quoting的<code>&quot;;&quot;</code>或者<code>&#39;;&#39;</code>。</p>
<p>因此上述的解决方案是：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">old_IFS=$IFS</span><br><span class="line">IFS=; #将IFS设置为null</span><br><span class="line">cat file | while read i</span><br><span class="line">do</span><br><span class="line">  echo "$i"</span><br><span class="line">done</span><br><span class="line">IFS=old_IFS #恢复IFS的原始值</span><br></pre></td></tr></table></figure></p>
<p>现在，回过头来看这个问题，为什么会有这个问题呢；<br>其本源的问题应该是没有找到解决原始问题的最合适的方法，<br>而是采取了一个迂回的方式来解决了问题；</p>
<p>因此，我们应该回到问题的本源，重新审视一下，问题的本质。<br>如果要精准的获取文件的内容，应该使用od或者hexdump会更好些。</p>
<h2 id="shell十三问之5：问var-value-在export前后的差在哪？"><a href="#shell十三问之5：问var-value-在export前后的差在哪？" class="headerlink" title="shell十三问之5：问var=value 在export前后的差在哪？"></a>shell十三问之5：问var=value 在export前后的差在哪？</h2><p>这次让我们暂时丢开<code>command line</code>,<br>先了解一下bash变量(variable)吧…</p>
<p>所谓的变量，就是利用一个固定的”名称”(name),<br>来存取一段可以变化的”值”(value)。</p>
<h3 id="1-变量设定-set"><a href="#1-变量设定-set" class="headerlink" title="1. 变量设定(set)"></a>1. 变量设定(set)</h3><p>在bash中， 你可以用”=”来设定或者重新定义变量的内容：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=value</span><br></pre></td></tr></table></figure></p>
<p>在设定变量的时候，得遵守如下规则：</p>
<ul>
<li>等号左右两边不能使用分隔符号(IFS),也应避免使用shell的保留元字符(meta charactor); </li>
<li>变量的名称(name)不能使用$符号;</li>
<li>变量的名称(name)的首字符不能是数字(number)。</li>
<li>变量的名称(name)的长度不可超过256个字符。</li>
<li>变量的名称(name)及变量的值的大小写是有区别的、敏感的(case sensitive，) </li>
</ul>
<p>如下是一些变量设定时常见的错误：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A= B #=号前后不能有IFS</span><br><span class="line">1A=B #变量名称不能以数字开头</span><br><span class="line"><span class="meta">$</span>A=B #变量的名称里有$</span><br><span class="line">a=B  #这跟a=b是不同的,(这不是错误，提醒windows用户)</span><br></pre></td></tr></table></figure></p>
<p>如下则是可以接受的设定：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A=" B" #IFS被关闭，参考前面的quoting章节</span><br><span class="line">A1=B   #并非以数字开头</span><br><span class="line">A=$B   #$可用在变量的值内</span><br><span class="line">This_Is_A_Long_Name=b #可用_连接较长的名称或值，且有大小区别；</span><br></pre></td></tr></table></figure></p>
<h3 id="2-变量替换-substitution"><a href="#2-变量替换-substitution" class="headerlink" title="2. 变量替换(substitution)"></a>2. 变量替换(substitution)</h3><p>shell 之所以强大，其中的一个因素是它可以在命令行中对变量作<br>替换(substitution)处理。<br>在命令行中使用者可以使用$符号加上变量名称(除了用=定义变量名称之外)，<br>将变量值给替换出来，然后再重新组建命令行。</p>
<p>比方:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=ls</span><br><span class="line"><span class="meta">$</span> B=la</span><br><span class="line"><span class="meta">$</span> C=/tmp</span><br><span class="line"><span class="meta">$</span> $A -$B $C</span><br></pre></td></tr></table></figure></p>
<p>以上命令行的第一个<code>$</code>是<code>shell prompt</code>, 并不在命令行之内。<br>必须强调的是，我们所提的变量替换，只发生在<code>command line</code>上面。<br>(是的，请让我们再次回到命令行吧！) 仔细分析,最后那行<br><code>command line</code>,不难发现在被执行前(在输入<code>CR</code>字符之前)，<br><code>$</code>符号对每一个变量作替换处理(将变量的值替换出来再重组命令行),<br>最后会得出如下命令行：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -la /tmp</span><br></pre></td></tr></table></figure></p>
<p>还记得第二章，我请大家”务必理解”的那两句吗？<br>若你忘了，我这里重贴一遍：</p>
<blockquote>
<p><strong>Note:</strong></p>
<p>若从技术的细节来看，<code>shell</code>会依据<code>IFS</code>(Internal Field Seperator)<br>将<code>command line</code>所输入的文字拆解为”字段”(word/field)。<br>然后再针对特殊字符(meta)先作处理，最后重组整行<code>command line</code>。</p>
</blockquote>
<p>这里的<code>$</code>就是<code>command line</code>中最经典的meta之一了，<br>就是作变量替换的。在日常的shell操作中，<br>我们常会使用<code>echo</code>命令来查看特定的变量的值，<br>例如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> echo $A -$B $C</span><br></pre></td></tr></table></figure></p>
<p>我们已学过，<code>echo</code>命令只单纯将其argument送至”标准输出”(stdout, 通常是我们的屏幕)。<br>所以上面的命令会在屏幕上得到如下结果：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -al /tmp</span><br></pre></td></tr></table></figure></p>
<p>这是由于<code>echo</code>命令在执行时，会先将<code>$A</code> (ls)、<code>$B</code> (la)跟<code>$C</code> (/tmp)给替换出来；<br>利用shell对变量的替换处理能力，我们在设定变量时就更为灵活了：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=B</span><br><span class="line">B=$A</span><br></pre></td></tr></table></figure></p>
<p>这样，B的变量值就可继承A变量”当时”的变量值了。<br>不过，不要以”数学逻辑”来套用变量的设定，比方说：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=B</span><br><span class="line">B=C</span><br></pre></td></tr></table></figure></p>
<p>这样，并不会让A的变量值变成C。再如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A=B</span><br><span class="line">B=$A</span><br><span class="line">A=C</span><br></pre></td></tr></table></figure></p>
<p>同样也不会让B的值变成C。</p>
<p>上面是单纯定义了两个不同名称的变量：<br>A 与 B, 它们的取值分别是C与B。</p>
<p>若变量被重复定义的话，则原有值为新值所取代。(这不正是”可变的量”吗？^_^)<br>当我们在设定变量的时候，请记住这点：<strong>用一个名称存储一个数值</strong>， 仅此而已。</p>
<p>此外， 我们也可以利用命令行的变量替换能力来”扩充”(append)变量的值：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=B:C:D</span><br><span class="line">A=$A:E</span><br></pre></td></tr></table></figure></p>
<p>这样， 第一行我们设定A的值为”B:C:D”,<br>然后,第二行再将值扩充为”B:C:D:E”。</p>
<p>上面的扩充的范例，我们使用分隔符号(:)来达到扩充的目的，<br>要是没有分隔符的话，如下是有问题的：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=BCD</span><br><span class="line">B=$AE</span><br></pre></td></tr></table></figure></p>
<p>因为第二次是将A的值继承$AE的替换结果，而非$A再加E。<br>要解决此问题，我们可用更严谨的替换处理：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=BCD</span><br><span class="line">A=$&#123;A&#125;E</span><br></pre></td></tr></table></figure></p>
<p>上例中，我们使用{}将变量名称范围给明确定义出来，<br>如此一来， 我们就可以将A的变量值从BCD给扩充为BCDE。</p>
<blockquote>
<p><strong>Tips:</strong><br>关于${name}事实上还可以做到更多的变量处理能力，<br>这些均属于比较进阶阶段的变量处理，现阶段暂不介绍了，<br>请大家自行参考资料。</p>
</blockquote>
<h3 id="3-export-变量"><a href="#3-export-变量" class="headerlink" title="3. export 变量"></a>3. export 变量</h3><p>严格来说，我们在当前shell中所定义的变量，均属于<br>“本地变量”(local variable), 只有经过<code>export</code>命令的<br>“输出”处理，才能成为”环境变量”(environment variable)：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B</span><br><span class="line"><span class="meta">$</span> export A</span><br></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> export A=B</span><br></pre></td></tr></table></figure></p>
<p>经过<code>export</code>输出处理之后，变量A就能成为一个环境变量<br>供其后的命令使用。在使用<code>export</code>的时候，请别忘记<br>shell在命令行对变量的”替换”(substitution)处理。<br>比方说：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B</span><br><span class="line"><span class="meta">$</span> B=C</span><br><span class="line"><span class="meta">$</span> export $A</span><br></pre></td></tr></table></figure></p>
<p>上面的命令并未将A输出为”环境变量”，而是将B导出<br>这是因为在这个命令行中，$A会首先被替换为B,然后在”塞回”<br>作<code>export</code>的参数。</p>
<p>要理解这个<code>export</code>，事实上需要从process(进程)的角度来理解才能透彻。<br>我们将于下一章为大家说明process(进程)的概念，敬请留意。</p>
<h4 id="4-取消变量-unset"><a href="#4-取消变量-unset" class="headerlink" title="4. 取消变量(unset)"></a>4. 取消变量(unset)</h4><p>要取消一个变量，在bash中可使用<code>unset</code>命令来处理：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset A</span><br></pre></td></tr></table></figure></p>
<p>与<code>export</code>一样，<code>unset</code>命令行，也同样会作<br>变量替换(这其实是shell的功能之一)，<br>因此:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B</span><br><span class="line"><span class="meta">$</span> B=C</span><br><span class="line"><span class="meta">$</span> unset $A</span><br></pre></td></tr></table></figure></p>
<p>事实上，所取消的是变量B而不是A。</p>
<p>此外，变量一旦经过unset取消之后，<br>其结果是将整个变量拿掉，而不是取消变量的值。</p>
<p>如下两行其实是很不一样的：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=</span><br><span class="line"><span class="meta">$</span> unset A</span><br></pre></td></tr></table></figure></p>
<p>第一行只是将变量A设定为”空值”(null value),<br>但第二行则是让变量A不存在。<br>虽然用眼睛来看，<br>这两种变量的状态在如下的命令结果中都是一样的：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=</span><br><span class="line"><span class="meta">$</span> echo $A</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span> unset A</span><br><span class="line"><span class="meta">$</span> echo $A</span><br></pre></td></tr></table></figure></p>
<p>请学员务必能识别null value 与 unset的本质区别，<br>这在一些进阶的变量处理上是很严格的。</p>
<p>比方说：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> str=    #设为null</span><br><span class="line"><span class="meta">$</span> var=$&#123;str=expr&#125; #定义var</span><br><span class="line"><span class="meta">$</span> echo $var</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span> echo $str</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span> unset str #取消str</span><br><span class="line"><span class="meta">$</span> var=$&#123;str=expr&#125; #定义var</span><br><span class="line"><span class="meta">$</span> echo $var</span><br><span class="line">expr</span><br><span class="line"><span class="meta">$</span> echo $str</span><br><span class="line">expr</span><br></pre></td></tr></table></figure></p>
<p>聪明的读者(yes, you!)，稍加思考的话，<br>应该不难发现为何同样的var=${str=expr}<br>在str为null与unset之下的不同吧？<br>若你看不出来，那可能是如下原因之一：</p>
<ul>
<li>你太笨了</li>
<li>不了解 var=${str=expr} 这个进阶处理</li>
<li>对本篇说明还没有来得及消化吸收</li>
<li>我讲得不好</li>
</ul>
<p>不知，您选哪个呢？…… ^_^.</p>
<h2 id="shell十三问之6：exec跟source差在哪？"><a href="#shell十三问之6：exec跟source差在哪？" class="headerlink" title="shell十三问之6：exec跟source差在哪？"></a>shell十三问之6：exec跟source差在哪？</h2><p>这次让我们从CU  shell版的一个实例帖子来谈起吧：<br>(论坛改版后，原链接已经失效)</p>
<p>例中的提问原文如下：</p>
<blockquote>
<p><strong>帖子提问:</strong></p>
<p>cd /etc/aa/bb/cc可以执行<br>但是把这条命令放入shell脚本后，shell脚本不执行！<br>这是什么原因？</p>
</blockquote>
<p>意思是：运行shell脚本，并没有移动到/etc/aa/bb/cc目录。</p>
<p>我当时如何回答暂时别去深究，先让我们了解一下进程<br>(process)的概念好了。</p>
<p>首先，我们所执行的任何程序，都是父进程(parent process)产生的一个<br>子进程(child process),子进程在结束后，将返回到父进程去。<br>此现象在Linux中被称为<code>fork</code>。</p>
<p>(为何要称为fork呢？ 嗯，画一下图或许比较好理解…^_^)</p>
<p>当子进程被产生的时候，将会从父进程那里获得一定的资源分配、及<br>(更重要的是)继承父进程的环境。</p>
<p>让我们回到上一章所谈到的”环境变量”吧：<br><strong>所谓环境变量其实就是那些会传给子进程的变量</strong>。<br>简单而言, “遗传性”就是区分本地变量与环境变量的决定性指标。<br>然而，从遗传的角度来看，我们不难发现环境变量的另一个重要特征：<br><strong>环境变量只能从父进程到子进程单向传递。<br>换句话说：在子进程中环境如何变更，均不会影响父进程的环境。</strong></p>
<p>接下来，在让我们了解一下shell脚本(shell script)的概念.<br>所谓shell script 讲起来很简单，就是将你平时在shell prompt输入的多行<br><code>command line</code>, 依序输入到一个文件文件而已。</p>
<p>再结合以上两个概念(process + script)，那应该不难理解如下的这句话的意思了：<br>正常来说，当我们执行一个shell script时，其实是先产生一个sub-shell的子进程，<br>然后sub-shell再去产生命令行的子进程。<br>然则，那让我们回到本章开始时，所提到的例子在重新思考：</p>
<blockquote>
<p><strong>帖子提问:</strong></p>
<p>cd /etc/aa/bb/cc可以执行<br>但是把这条命令放入shell脚本后，shell脚本不执行！<br>这是什么原因？</p>
</blockquote>
<p>意思是：运行shell脚本，并没有移动到/etc/aa/bb/cc目录。</p>
<p>我当时的答案是这样的：</p>
<blockquote>
<p>因为，我们一般跑的shell script是用sub-shell去执行的。<br>从process的概念来看，是 parent process产生一个child process去执行，<br>当child结束后，返回parent, 但parent的环境是不会因child的改变而改变的。<br>所谓的环境变量元数很多，如effective id(euid)，variable, working dir等等…<br>其中的working dir($PWD) 正是楼主的疑问所在：<br>当用sub-shell来跑script的话，sub-shell的$pwd会因为cd而变更，<br>但返回primary shell时，$PWD是不会变更的。</p>
</blockquote>
<p>能够了解问题的原因及其原理是很好的，但是？<br>如何解决问题，恐怕是我们更应该感兴趣的是吧？</p>
<p>那好，接下来，再让我们了解一下<code>source</code>命令好了。<br>当你有了<code>fork</code>的概念之后，要理解<code>soruce</code>就不难：</p>
<p>所谓<code>source</code>，就是让script在当前shell内执行、<br>而不是产生一个sub-shell来执行。<br>由于所有执行结果均在当前shell内执行、而不是产生一个sub-shell来执行。</p>
<p>因此, 只要我们原本单独输入的script命令行，变成<code>source</code>命令的参数，<br>就可轻而易举地解决前面提到的问题了。</p>
<p>比方说，原本我们是如此执行script的：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ./my_script.sh</span><br></pre></td></tr></table></figure></p>
<p>现在改成这样既可：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> source ./my_script.sh</span><br></pre></td></tr></table></figure></p>
<p>或者：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> . ./my_script.sh</span><br></pre></td></tr></table></figure></p>
<p>说到这里，我想，各位有兴趣看看<code>/etc</code>底下的众多设定的文件，<br>应该不难理解它们被定义后，如何让其他script读取并继承了吧？</p>
<p>若然，日后，你有机会写自己的script，<br>应也不难专门指定一个设定的文件以供不同的script一起”共用”了… ^_^</p>
<p>okay,到这里，若你搞懂<code>fork</code>与<code>source</code>的不同，<br>那接下来再接受一个挑战：</p>
<blockquote>
<p>那<code>exec</code>又与<code>source</code>/<code>fork</code>有何不同呢？</p>
</blockquote>
<p>哦…要了解<code>exec</code>或许较为复杂，尤其是扯上<code>File Decscriptor</code>的话…<br>不过，简单来说：</p>
<blockquote>
<p><code>exec</code> 也是让script在同一个进程上执行，但是原有进程则被结束了。<br>简言之，原有进程能否终止，就是<code>exec</code>与<code>source</code>/<code>fork</code>的最大差异了。</p>
</blockquote>
<p>嗯，光是从理论去理解，或许没那么好消化，<br>不如动手”实践+思考”来得印象深刻哦。</p>
<p>下面让我们为两个简单的script，分别命名为1.sh以及2.sh</p>
<p>1.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/bash </span><br><span class="line"></span><br><span class="line">A=B </span><br><span class="line">echo "PID for 1.sh before exec/source/fork:$$"</span><br><span class="line"></span><br><span class="line">export A</span><br><span class="line">echo "1.sh: \$A is $A"</span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">        exec)</span><br><span class="line">                echo "using exec..."</span><br><span class="line">                exec ./2.sh ;;</span><br><span class="line">        source)</span><br><span class="line">                echo "using source..."</span><br><span class="line">                . ./2.sh ;;</span><br><span class="line">        *)</span><br><span class="line">                echo "using fork by default..."</span><br><span class="line">                ./2.sh ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">echo "PID for 1.sh after exec/source/fork:$$"</span><br><span class="line">echo "1.sh: \$A is $A"</span><br></pre></td></tr></table></figure>
<p>2.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/bash</span><br><span class="line"></span><br><span class="line">echo "PID for 2.sh: $$"</span><br><span class="line">echo "2.sh get \$A=$A from 1.sh"</span><br><span class="line"></span><br><span class="line">A=C</span><br><span class="line">export A</span><br><span class="line">echo "2.sh: \$A is $A"</span><br></pre></td></tr></table></figure>
<p>然后分别跑如下参数来观察结果：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ./1.sh fork</span><br><span class="line"><span class="meta">$</span> ./1.sh source</span><br><span class="line"><span class="meta">$</span> ./1.sh exec</span><br></pre></td></tr></table></figure></p>
<p>好了，别忘了仔细比较输出结果的不同及背后的原因哦…<br>若有疑问，欢迎提出来一起讨论讨论</p>
<p>happy scripting！ ^_^</p>
<h2 id="shell十三问之7：-与-差在哪？"><a href="#shell十三问之7：-与-差在哪？" class="headerlink" title="shell十三问之7：()与{}差在哪？"></a>shell十三问之7：()与{}差在哪？</h2><p>嗯，这次轻松一下，不讲太多… ^_^</p>
<p>先说一下，为何要用()或者{}好了。</p>
<p>许多时候，我们在shell操作上，需要在<br>一定的条件下执行多个命令，也就是说，<br>要么不执行，要么就全执行，而不是每次<br>依序的判断是否要执行下一个命令。</p>
<p>或者，要从一些命令执行的先后次序中得到结果，<br>如算术运算的2*(3+4)那样…</p>
<p>这时候，我们就可以引入”<code>命令群组</code>“(<code>command group</code>)<br>的概念：将许多命令集中处理。</p>
<p>在shell <code>command line</code>中，一般人或许不太计较<code>()</code>与<br><code>{}</code>这两对符号的差异，虽然两者都可以将多个命令当作群组处理，<br>但若从技术细节上，却是很不一样的：</p>
<ul>
<li><code>()</code> 将<code>command group</code>置于<code>sub-shell</code>(<code>子shell</code>)中去执行，也称 <code>nested sub-shell</code>。</li>
<li><code>{}</code> 则是在同一个<code>shell</code>内完成，也称<code>non-named command group</code>。</li>
</ul>
<p>若你对上一章的fork与source的概念还记得的话，<br>那就不难理解两者的差异了。</p>
<p>要是在 <code>command group</code>中扯上变量及其他环境的修改，<br>我们可以根据不同的需求来使用<code>()</code>或<code>{}</code>。<br>通常而言, 若所作的修改是临时的，且不想影响原有或以后的设定，<br>那我们就使用<code>nested sub-shell</code>, 即<code>()</code>;<br>反之，则用<code>non-named command group</code>, 即<code>{}</code>。</p>
<p>是的，光从<code>command line</code>来看，<code>()</code> 与 <code>{}</code>差别就讲完了，够轻松吧, ^_^</p>
<p>然而，这两个<code>meta</code>用在其他<code>command meta</code>或领域中(如Regular Expression)，<br>还是有很多差别的。<br>只是，我不打算再去说明了，留给读者慢慢发掘好了…</p>
<p>我这里只想补充一个概念，就是<code>function</code>。<br>所谓<code>function</code>，就是用一个名字去命名一个<code>command group</code>,<br>然后再调用这个名字去执行<code>command group</code>。</p>
<p>从<code>non-named command group</code>来推断，<br>大概你也可以推测到我要说的是<code>{}</code>了吧？(yes! 你真聪明 ^_^)</p>
<p>在bash中，function的定义方式有两种：</p>
<ul>
<li><p>方式一：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function function_name &#123;</span><br><span class="line">    command1</span><br><span class="line">	command2</span><br><span class="line">	command3</span><br><span class="line">	.....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方式二：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function_name () &#123;</span><br><span class="line">	command1</span><br><span class="line">	command2</span><br><span class="line">	command3</span><br><span class="line">	......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>用哪一种方式无所谓，<br>只是碰到所定义的名称与现有的命令或者别名冲突的话，<br>方式二或许会失败。<br>但方式二起码可以少打个<code>function</code>这一串英文字符，<br>对懒人来说(如我)，有何乐而不为呢？…^_^</p>
<p><code>function</code> 在一定程度上来说，也可以称为”函数”，<br>但请不要与传统编程所使用的”函数”(library)搞混了，<br>毕竟两者差异很大。<br>唯一相同的是，我们都可以随时用”已定义的名称”来调用它们…</p>
<p>若我们在shell操作中，需要不断地重复某些命令，<br>我们首先想到的，或许是将命令写成shell脚本(shell script)。<br>不过，我们也可以写成function,<br>然后在command line中打上function_name就可当一般的shell script使用了。</p>
<p>若只是你在shell中定义的<code>function</code>,<br>除了用<code>unset</code> function_name取消外，<br>一旦你退出shell， function也跟着消失。<br>然而，在script中使用function却有许多好处，<br>除了提高整体script的执行性能外(因为已经载入)，<br>还可以节省许多重复的代码……</p>
<p>简单而言，若你会将多个命令写成script以供调用的话，<br>那你可以将function看成script中script。… ^_^</p>
<p>而且通过上一章节介绍的<code>source</code>命令，<br>我们可以自行定义许许多多好用的function，<br>在集中写在特定文件中，<br>然后，在其他的script中用<code>source</code>将它们载入，并反复执行。</p>
<p>若你是<code>RedHat Linux</code>的使用者，<br>或许，已经猜出 <code>/etc/rc.d/init.d/functions</code>这个文件时啥作用了 ^_^</p>
<p>okay，说要轻松点的嘛，那这次就暂时写到这吧。<br>祝大家学习愉快，^_^</p>
<h2 id="shell十三问之8-与-还有-差在哪？"><a href="#shell十三问之8-与-还有-差在哪？" class="headerlink" title="shell十三问之8: $(())与$()还有${}差在哪？"></a>shell十三问之8: $(())与$()还有${}差在哪？</h2><p>我们上一章介绍了()与{}的不同，<br>这次让我们扩展一下，看看更多的变化：<br>$()与${}又是啥玩意儿呢？</p>
<p>在bash shell中, <code>$()</code>与``(反引号)都是用来做<br><code>命令替换</code>(command substitution)的。</p>
<p>所谓的<code>命令替换</code>与我们第五章学过的变量替换差不多，<br>都是用来<code>重组命令行</code>：<br>完成 `` 或者<code>$()</code>里面的<br>命令，将其结果替换出来，<br>再重组命令行。</p>
<p>例如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> echo the last sunday is $(date -d "last sunday" +%Y-%m-%d)</span><br></pre></td></tr></table></figure></p>
<p>如此便可方便得到上一个星期天的日期了…^_^</p>
<p>在操作上， 用$()或``都无所谓,<br>只是我个人比较喜欢用$(),理由是：</p>
<ol>
<li><p>``(反引号)很容易与’’(单引号)搞混乱，尤其对初学者来说。<br> 有时在一些奇怪的字形显示中，两种符号是一模一样的(只取两点)。<br> 当然了有经验的朋友还是一眼就能分辨两者。只是，若能更好的避免混乱，<br> 又何乐而不为呢？ ^_^</p>
</li>
<li><p>在多次的复合替换中， ``需要额外的转义(escape, )处理，而$()则比较直观。<br>例如，一个错误的使用的例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 `command2 `command3` `</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>原来的本意是要在command2 `command3` ,<br>先将command3替换出来给command2处理，<br>然后再将command2的处理结果，给command1来处理。<br>然而真正的结果在命令行中却是分成了`command2`与 ``。</p>
<p>正确的输入应该如下：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 `command2 \`command3\` `</span><br></pre></td></tr></table></figure></p>
<p> 要不然换成$()就没有问题了：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command1 $(commmand2 $(command3))</span><br></pre></td></tr></table></figure>
<p>只要你喜欢，做多少层的替换都没有问题^_^</p>
<p>不过，$()并不是没有弊端的…<br>首先，``基本上可用在所有的unix shell中使用，<br>若写成 shell script，其移植性比较高。<br>而$()并不是每一种shell都能使用，我只能说，<br>若你用bash2的话，肯定没问题… ^_^</p>
<p>接下来，再让我们看看${}吧…它其实就是用来做<br>变量替换用的啦。<br>一般情况下，$var与${var}并没有啥不一样。<br>但是用${}会比较精准的界定变量名称的范围，<br>比方说:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B</span><br><span class="line"><span class="meta">$</span> echo $AB</span><br></pre></td></tr></table></figure></p>
<p>原本是打算先将$A的结果替换出来，<br>然后在其后补一个字母B；<br>但命令行上，<br>真正的结果却是替换变量名称为AB的值出来…<br>若使用${}就没有问题了：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=B</span><br><span class="line"><span class="meta">$</span> echo $&#123;A&#125;B</span><br><span class="line"><span class="meta">$</span> BB</span><br></pre></td></tr></table></figure></p>
<p>不过，假如你只看到<code>${}</code>只能用来界定变量名称的话，<br>那你就实在太小看bash了。</p>
<p>为了完整起见，我这里再用一些例子加以说明<code>${}</code>的一些<br>特异功能：<br>假设我们定义了一个变量file为：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file=/dir1/dir2/dir3/my.file.txt</span><br></pre></td></tr></table></figure></p>
<p>我们可以用<code>${}</code>分别替换获得不同的值：</p>
<h4 id="1-shell字符串的非贪婪-最小匹配-左删除"><a href="#1-shell字符串的非贪婪-最小匹配-左删除" class="headerlink" title="1. shell字符串的非贪婪(最小匹配)左删除"></a>1. shell字符串的非贪婪(最小匹配)左删除</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file#*/&#125;  #其值为：dir1/dir2/dir3/my.file.txt</span><br></pre></td></tr></table></figure>
<p>拿掉第一个<code>/</code>及其左边的字符串，其结果为：<br><code>dir1/dir2/dir3/my.file.txt</code> 。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file#*.&#125;  #其值为：file.txt</span><br></pre></td></tr></table></figure></p>
<p>拿掉第一个<code>.</code>及其左边的字符串，其结果为：<br><code>file.txt</code> 。</p>
<h4 id="2-shell字符串的贪婪-最大匹配-左删除："><a href="#2-shell字符串的贪婪-最大匹配-左删除：" class="headerlink" title="2. shell字符串的贪婪(最大匹配)左删除："></a>2. shell字符串的贪婪(最大匹配)左删除：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file##*/&#125; #其值为：my.file.txt</span><br></pre></td></tr></table></figure>
<p>拿掉最后一个<code>/</code>及其左边的字符串，其结果为：<br><code>my.file.txt</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file##*.&#125; #其值为：txt</span><br></pre></td></tr></table></figure>
<p>拿掉最后一个<code>.</code>及其左边的字符串，其结果为：<br><code>txt</code></p>
<h4 id="3-shell字符串的非贪婪-最小匹配-右删除："><a href="#3-shell字符串的非贪婪-最小匹配-右删除：" class="headerlink" title="3. shell字符串的非贪婪(最小匹配)右删除："></a>3. shell字符串的非贪婪(最小匹配)右删除：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file%/*&#125;  #其值为：/dir1/dir2/dir3</span><br></pre></td></tr></table></figure>
<p>拿掉最后一个<code>/</code>及其右边的字符串，其结果为：<br><code>/dir1/dir2/dir3</code>。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file%.*&#125;  #其值为：/dir1/dir2/dir3/my.file</span><br></pre></td></tr></table></figure>
<p>拿掉最后一个<code>.</code>及其右边的字符串，其结果为：<br><code>/dir1/dir2/dir3/my.file</code>。</p>
<h4 id="4-shell字符串的贪婪-最大匹配-右删除："><a href="#4-shell字符串的贪婪-最大匹配-右删除：" class="headerlink" title="4. shell字符串的贪婪(最大匹配)右删除："></a>4. shell字符串的贪婪(最大匹配)右删除：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file%%/*&#125;  #其值为：其值为空。</span><br></pre></td></tr></table></figure>
<p>拿掉第一个<code>/</code>及其右边的字符串，其结果为：<br>空串。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file%%.*&#125;  #其值为：/dir1/dir2/dir3/my。</span><br></pre></td></tr></table></figure>
<p>拿掉第一个<code>.</code>及其右边的字符串，其结果为：<br>/dir1/dir2/dir3/my。</p>
<blockquote>
<p><strong>Tips:</strong></p>
<p>记忆方法：</p>
<p><code>#</code>是去掉左边(在键盘上<code>#</code>在<code>$</code>的左边);</p>
<p><code>%</code>是去掉右边(在键盘上<code>%</code>在<code>$</code>的右边);</p>
<p> 单个符号是最小匹配;</p>
<p> 两个符号是最大匹配;</p>
</blockquote>
<h4 id="5-shell字符串取子串："><a href="#5-shell字符串取子串：" class="headerlink" title="5. shell字符串取子串："></a>5. shell字符串取子串：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file:0:5&#125; #提取最左边的5个字符：/dir1</span><br><span class="line"><span class="meta">$</span>&#123;file:5:5&#125; #提取第5个字符及其右边的5个字符:/dir2</span><br></pre></td></tr></table></figure>
<p>shell字符串取子串的格式：<code>${s:pos:length}</code>,<br>取字符串s的子串：从pos位置开始的字符(包括该字符)的长度为length的的子串;<br>其中pos为子串的首字符，在s中位置；<br>length为子串的长度;</p>
<blockquote>
<p><strong>Note:</strong> 字符串中字符的起始编号为0.</p>
</blockquote>
<h4 id="6-shell字符串变量值的替换："><a href="#6-shell字符串变量值的替换：" class="headerlink" title="6. shell字符串变量值的替换："></a>6. shell字符串变量值的替换：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;file/dir/path&#125;  #将第一个dir替换为path：/path1/dir2/dir3/my.file.txt</span><br><span class="line"><span class="meta">$</span>&#123;file//dir/path&#125; #将全部的dir替换为path：/path1/path2/path3/my.file.txt</span><br></pre></td></tr></table></figure>
<p>shell字符串变量值的替换格式：</p>
<ul>
<li><p>首次替换：<br><code>${s/src_pattern/dst_pattern}</code> 将字符串s中的第一个src_pattern替换为dst_pattern。</p>
</li>
<li><p>全部替换：<br><code>${s//src_pattern/dst_pattern}</code> 将字符串s中的所有出现的src_pattern替换为dst_pattern.</p>
</li>
</ul>
<h4 id="7-还可针对变量的不同状态-没设定、空值、非空值-进行赋值："><a href="#7-还可针对变量的不同状态-没设定、空值、非空值-进行赋值：" class="headerlink" title="7. ${}还可针对变量的不同状态(没设定、空值、非空值)进行赋值："></a>7. ${}还可针对变量的不同状态(没设定、空值、非空值)进行赋值：</h4><ul>
<li><p><code>${file-my.file.txt}</code> #如果file没有设定，则使用<br>使用my.file.txt作为返回值, 否则返回${file};(空值及非空值时，不作处理。);</p>
</li>
<li><p><code>${file:-my.file.txt}</code> #如果file没有设定或者${file}为空值, 均使用my.file.txt作为其返回值，否则，返回${file}.(${file} 为非空值时，不作处理);</p>
</li>
</ul>
<ul>
<li><p><code>${file+my.file.txt}</code> #如果file已设定(为空值或非空值), 则使用my.file.txt作为其返回值，否则不作处理。(未设定时，不作处理);</p>
</li>
<li><p><code>${file:+my.file.txt}</code> #如果${file}为非空值, 则使用my.file.txt作为其返回值，否则，(未设定或者为空值时)不作处理。</p>
</li>
<li><p><code>${file=my.file.txt}</code> #如果file为设定，则将file赋值为my.file.txt，同时将${file}作为其返回值；否则，file已设定(为空值或非空值)，则返回${file}。</p>
</li>
<li><p><code>${file:=my.file.txt}</code> #如果file未设定或者${file}为空值, 则my.file.txt作为其返回值，<br>同时，将${file}赋值为my.file.txt，否则，(非空值时)不作处理。</p>
</li>
<li><p><code>${file?my.file.txt}</code> #如果file没有设定，则将my.file.txt输出至STDERR, 否侧，<br>已设定(空值与非空值时)，不作处理。</p>
</li>
<li><p><code>${file:?my.file.txt}</code> #若果file未设定或者为空值，则将my.file.txt输出至STDERR，否则，<br>非空值时，不作任何处理。</p>
</li>
</ul>
<blockquote>
<p><strong>Tips:</strong></p>
<p>以上的理解在于，你一定要分清楚，<code>unset</code>与<code>null</code>以及non-null这三种状态的赋值；<br>一般而言，与null有关，若不带<code>:</code>, null不受影响；<br>若带 <code>:</code>, 则连null值也受影响。</p>
</blockquote>
<h4 id="8-计算shell字符串变量的长度：-35-var"><a href="#8-计算shell字符串变量的长度：-35-var" class="headerlink" title="8. 计算shell字符串变量的长度：${&#35;var}"></a>8. 计算shell字符串变量的长度：${&#35;var}</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;#file&#125;  #其值为27, 因为/dir1/dir2/dir3/my.file.txt刚好为27个字符。</span><br></pre></td></tr></table></figure>
<h4 id="9-bash数组-array-的处理方法"><a href="#9-bash数组-array-的处理方法" class="headerlink" title="9. bash数组(array)的处理方法"></a>9. bash数组(array)的处理方法</h4><p>接下来，为大家介绍一下bash的数组(array)的处理方法。<br>一般而言, <code>A=&quot;a b c def&quot;</code><br>这样的变量只是将<code>$A</code>替换为一个字符串，<br>但是改为 <code>A=(a b c def)</code>,<br>则是将<code>$A</code>定义为数组….</p>
<h5 id="1-数组替换方法可参考如下方法："><a href="#1-数组替换方法可参考如下方法：" class="headerlink" title="1). 数组替换方法可参考如下方法："></a>1). 数组替换方法可参考如下方法：</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;A[@]&#125; #方法一</span><br><span class="line"><span class="meta">$</span>&#123;A[*]&#125; #方法二</span><br></pre></td></tr></table></figure>
<p>以上两种方法均可以得到：a b c def, 即数组的全部元素。</p>
<h5 id="2-访问数组的成员"><a href="#2-访问数组的成员" class="headerlink" title="2). 访问数组的成员:"></a>2). 访问数组的成员:</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;A[0]&#125;</span><br></pre></td></tr></table></figure>
<p>其中，<code>${A[0]}</code>可得到a, 即数组A的第一个元素，<br>而 <code>${A[1]}</code>则为数组A的第二元素，依次类推。</p>
<h5 id="3-数组的length："><a href="#3-数组的length：" class="headerlink" title="3). 数组的length："></a>3). 数组的length：</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;#A[@]&#125; #方法一</span><br><span class="line"><span class="meta">$</span>&#123;#A[*]&#125; #方法二</span><br></pre></td></tr></table></figure>
<p>以上两种方法均可以得到数组的长度: 4, 即数组的所有元素的个数。</p>
<p>回忆一下，针对字符串的长度计算，使用 ${&#35;str_var};<br>我们同样可以将该方法应用于数组的成员:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span>&#123;#A[0]&#125;</span><br></pre></td></tr></table></figure>
<p>其中， ${&#35;A<a href="http://bbs.chinaunix.net/thread-218853-1-1.html" target="_blank" rel="noopener">0</a>} 可以得到：1，即数组A的第一个元素(a)的长度;<br>同理， ${&#35;A<a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=3#pid1482452" target="_blank" rel="noopener">3</a>} 可以得到: 3, 即数组A的第4个元素(def)的长度。</p>
<h5 id="4-数组元素的重新赋值："><a href="#4-数组元素的重新赋值：" class="headerlink" title="4). 数组元素的重新赋值："></a>4). 数组元素的重新赋值：</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A[3]=xyz</span><br></pre></td></tr></table></figure>
<p>将数组A的第四个元素重新定义为xyz。</p>
<blockquote>
<p><strong>Tips:</strong></p>
<p>诸如此类的…</p>
<p>能够善用bash的$()与${}可以大大提高及<br>简化shell在变量上的处理能力哦^_^</p>
</blockquote>
<h4 id="10-作用"><a href="#10-作用" class="headerlink" title="10. $(())作用:"></a>10. $(())作用:</h4><p>好了，最后为大家介绍<code>$(())</code>的用途吧：<br><strong><code>$(())</code>是用来作整数运算的</strong>。</p>
<p>在bash中， <code>$(())</code>的整数运算符号大致有这些：</p>
<ul>
<li>+- *  /    #分别为”加、减、乘、除”。</li>
<li>%            #余数运算,(模数运算)</li>
<li>&amp; | ^ !      #分别为”AND、OR、XOR、NOT”运算。</li>
</ul>
<p>例如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> a=5; b=7; c=2;</span><br><span class="line"><span class="meta">$</span> echo $(( a + b * c ))</span><br><span class="line">19</span><br><span class="line"><span class="meta">$</span> echo $(( (a + b)/c ))</span><br><span class="line">6</span><br><span class="line"><span class="meta">$</span> echo $(( (a * b) % c ))</span><br><span class="line">1</span><br></pre></td></tr></table></figure></p>
<p>在<code>$(())</code>中的变量名称,<br>可以在其前面加 <code>$</code>符号来替换，<br>也可以不用，如：<br><code>$(( $a + $b * $c ))</code> 也可以得到19的结果。</p>
<p>此外，<code>$(())</code>还可作不同进制(如二进制、八进制、十六进制)的运算，<br>只是输出结果均为十进制的。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $(( 16#2a )) #输出结果为：42，(16进制的2a)</span><br></pre></td></tr></table></figure></p>
<p>以一个实用的例子来看看吧 :<br>假如当前的umask是022,那么新建文件的权限即为：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> umask 022</span><br><span class="line"><span class="meta">$</span> echo "obase=8; $(( 8#666 &amp; (8#777 ^ 8#$(umask)) ))" | bc</span><br><span class="line">644</span><br></pre></td></tr></table></figure></p>
<p>事实上，单纯用<code>(())</code>也可以重定义变量值，或作testing：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=5; ((a++)) #可将$a 重定义为6</span><br><span class="line">a=5; ((a--)) #可将$a 重定义为4</span><br><span class="line">a=5; b=7; ((a&lt; b)) #会得到0 (true)返回值。</span><br></pre></td></tr></table></figure></p>
<p>常见的用于<code>(())</code>的测试符号有如下这些：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>符号名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;</td>
<td>小于号</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于号</td>
</tr>
<tr>
<td>&lt;=</td>
<td>小于或等于</td>
</tr>
<tr>
<td>&gt;=</td>
<td>大于或等于</td>
</tr>
<tr>
<td>==</td>
<td>等于</td>
</tr>
<tr>
<td>!=</td>
<td>不等于</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong></p>
<p>使用<code>(())</code>作整数测试时，<br>请不要跟<code>[]</code>的整数测试搞混乱了。</p>
<p>更多的测试，我们将于第10章为大家介绍。</p>
</blockquote>
<p>怎样？ 好玩吧… ^_^ </p>
<p>okay,这次暂时说这么多…</p>
<p>上面的介绍，并没有详列每一种可用的状态，<br>更多的，就请读者参考手册文件(man)吧…</p>
<h2 id="shell十三问之9：-与-差在哪？"><a href="#shell十三问之9：-与-差在哪？" class="headerlink" title="shell十三问之9：$@与$*差在哪？"></a>shell十三问之9：$@与$*差在哪？</h2><p>要说$@与$*之前，<br>需得先从shell script的positional parameter谈起…</p>
<p>我们都已经知道变量(variable)是如何定义和替换的，<br>这个不再多讲了。</p>
<h4 id="1-shell-script的positional-parameter"><a href="#1-shell-script的positional-parameter" class="headerlink" title="1. shell script的positional parameter"></a>1. shell script的positional parameter</h4><p>但是，我们还需要知道有些变量是shell内定的，<br>且其名称是我们不能随意修改的。<br>其中，就有positional parameter在内。</p>
<p>在shell script中，我们可用$0, $1, $2, $3 …<br>这样的变量分别提取命令行中的如下部分:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script_name parameter1 parameter2 parameter3 ...</span><br></pre></td></tr></table></figure></p>
<p>我们很容易就能猜出, <code>$0</code>就是代表 shell script名称(路径)本身，<br>而<code>$1</code>就是其后的第一个参数，如此类推…</p>
<p>须得留意的是<code>IFS</code>的作用, 也就是<code>IFS</code>被quoting处理后，<br>那么positional parameter也会改变。</p>
<p>如下例：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my.sh p1 "p2 p3" p4</span><br></pre></td></tr></table></figure></p>
<p>由于p2与p3之间的空白键被soft quoting所关闭了，<br>因此，my.sh的中$2是”p2 p3”,而$3则是p4…</p>
<p>还记得前两章，我们提到function时，<br>我们不是说过，它是script中的script吗？^_^</p>
<p>是的，function一样可以读取自己的(有别于script的)<br>positional parameter, 唯一例外的是$0而已。</p>
<p>举例而言：<br>假设my.sh里有一个函数(function)叫my_fun,<br>若在script中跑<code>my_fun fp1 fp2 fp3</code>,<br>那么，function内的$0就是my.sh，而$1是fp1而不是p1了…</p>
<p>不如写个简单的my.sh script 看看吧：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/bash</span><br><span class="line"></span><br><span class="line">my_fun() &#123;</span><br><span class="line">    echo '$0 inside function is '$0</span><br><span class="line">	echo '$1 inside function is '$1</span><br><span class="line">	echo '$2 inside function is '$2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo '$0 outside function is '$0</span><br><span class="line">echo '$1 outside function is '$1</span><br><span class="line">echo '$2 outside function is '$2</span><br><span class="line"></span><br><span class="line">my_fun fp1 "fp2 fp3"</span><br></pre></td></tr></table></figure></p>
<p>然后在command line中跑一下 script就知道了：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 my.sh</span><br><span class="line"></span><br><span class="line">./my.sh p1 "p2 p3"</span><br><span class="line"><span class="meta">$</span>0 outside function is ./my.sh</span><br><span class="line"><span class="meta">$</span>1 outside function is p1</span><br><span class="line"><span class="meta">$</span>2 outside function is p2 p3</span><br><span class="line"><span class="meta">$</span>0 inside function is ./my.sh</span><br><span class="line"><span class="meta">$</span>1 inside function is fp1</span><br><span class="line"><span class="meta">$</span>2 inside function is fp2 fp3</span><br></pre></td></tr></table></figure></p>
<p>然而，在使用positional parameter的时候，<br>我们要注意一些陷阱哦：</p>
<p><strong>$10不是替换第10个参数，<br>而是替换第一个参数，然后在补一个0于其后;</strong></p>
<p>也就是说， <code>my.sh one two three four five six seven eight nine ten</code><br>这样的command line, my.sh里的$10不是ten而是one0 哦…小心小心<br>要抓到ten的话，有两种方法：</p>
<ul>
<li><p>方法一：使用我们上一章介绍的${}, 也就是用${10}即可。</p>
</li>
<li><p>方法二：就是shift了。</p>
</li>
</ul>
<p>用通俗的说法来说，<br><strong>所谓的shift就是取消positional parameter中最左边的参数($0不受影响)</strong>。<br>其预设值为1，也就是shift 或shift 1 都是取消$1,<br>而原本的$2则变成$1, $3则变成$2…<br>那亲爱的读者，你说要shift掉多少个参数，<br>才可用$1取得到${10} 呢？ ^_^</p>
<p>okay，当我们对positional parameter有了基本的概念之后，<br>那再让我们看看其他相关变量吧。</p>
<h4 id="2-shell-script的positional-parameter的number"><a href="#2-shell-script的positional-parameter的number" class="headerlink" title="2. shell script的positional parameter的number"></a>2. shell script的positional parameter的number</h4><p>先是$#, 它可抓出positional parameter的数量。<br>以前面的<code>my.sh p1 &quot;p2 p3&quot;</code>为例：<br>由于”p2 p3”之间的<code>IFS</code>是在soft quote中，<br>因此，$#就可得到的值是2.<br>但如果p2与p3没有置于quoting中话，<br>那$#就可得到3的值了。<br>同样的规则，在function中也是一样。</p>
<p>因此，我们常在shell script里用如下方法，<br>测试script是否有读进参数：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ $# = 0 ]</span><br></pre></td></tr></table></figure></p>
<p>假如为0, 那就表示script没有参数，否则就是带有参数…</p>
<h4 id="3-shell-script中的-与"><a href="#3-shell-script中的-与" class="headerlink" title="3. shell script中的$@与$*"></a>3. shell script中的$@与$*</h4><p>接下来就是<strong>$@与$*:<br>精确来讲，两者只有在soft quote中才有差异，<br>否则，都表示“全部参数” ($0除外)</strong>。</p>
<p>若在comamnd line上， 跑<code>my.sh p1 &quot;p2 p3&quot; p4</code>的话，<br>不管$@还是$*, 都可得到 p1 p2 p3 p4就是了。</p>
<p>但是，<strong>如果置于soft quote中的话：</strong></p>
<ul>
<li><strong>“$@”则可得到 “p1” “p2 p3” “p4” 这三个不同字段(word);</strong></li>
<li><strong>“$*”则可得到 “p1 p2 p3 p4” 这一整个单一的字段。</strong></li>
</ul>
<p>我们修改一下前面的my.sh，使之内容如下：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>!/bin/bash</span><br><span class="line"></span><br><span class="line">my_fun() &#123;</span><br><span class="line">	echo "$#"</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo 'the number of parameter in "$@" is ' $(my_fun "$@")</span><br><span class="line">echo 'the number of parameter in "$*" is ' $(my_fun "$*")</span><br></pre></td></tr></table></figure></p>
<p>然后再执行:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./my.sh p1 "p2 p3" p4</span><br></pre></td></tr></table></figure></p>
<p>就知道，$@与$*差在哪了… ^_^</p>
<h2 id="shell十三问之10：-amp-amp-与-差在哪？"><a href="#shell十三问之10：-amp-amp-与-差在哪？" class="headerlink" title="shell十三问之10：&amp;&amp; 与 || 差在哪？"></a>shell十三问之10：&amp;&amp; 与 || 差在哪？</h2><p>好不容易，进入了两位数的章节了…<br>一路走来，很辛苦吧？也很快乐吧？ ^_^</p>
<p>在解答本章题目之前，先让我们了解一个概念：<br>return value。</p>
<p>我们在shell下跑的每一个command或function，<br>在结束的时候都会传回父进程一个值，称为 <code>return value</code>。</p>
<p>在shell command line中可用<code>$?</code>，<br>这个变量得到最”新”的一个<code>return value</code>，<br>也就是刚刚结束的那个进程传回的值。</p>
<p><code>Return Value</code>(RV)的取值为0-255之间，<br>由进程或者script的作者自行定义：</p>
<ul>
<li><p>若在script里，用exit RV 来指定其值;<br>若没有指定, 在结束时，以最后一个命令的RV，为script的RV值。</p>
</li>
<li><p>若在function里，则用return RV 来代替exit RV即可。</p>
</li>
</ul>
<p><strong><code>Return Value</code>的作用：用来判断进程的退出状态(exit status)</strong>.<br>进程的退出状态有两种：</p>
<ul>
<li>0值为”真”(true)</li>
<li>非0值为”假”(false)</li>
</ul>
<p>举个例子来说明好了：<br>假设当前目录内有一个my.file的文件， 而no.file是不存在的：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> touch my.file</span><br><span class="line"><span class="meta">$</span> ls my.file</span><br><span class="line"><span class="meta">$</span> echo $? #first echo</span><br><span class="line">0</span><br><span class="line"><span class="meta">$</span> ls no.file</span><br><span class="line">ls: no.file: No such file or directory</span><br><span class="line"><span class="meta">$</span> echo $?     #second echo</span><br><span class="line">1</span><br><span class="line"><span class="meta">$</span> echo $?     #third echo</span><br><span class="line">0</span><br></pre></td></tr></table></figure></p>
<p>上例的：</p>
<ul>
<li>第一个echo是关于<code>ls my.file</code>的RV，可得到0的值，因此为true。</li>
<li>第二个echo是关于<code>ls no.file</code>的RV，得到非0的值，因此为false。</li>
<li>第三个echo是关于<code>echo $?</code>的RV，得到0值， 因此为true。</li>
</ul>
<p>请记住：<br>每一个command在结束时，都会返回<code>return value</code>，不管你跑什么命令…<br>然而，有一个命令却是“专门”用来测试某一条而返回<code>return value</code>，<br>以供true或false的判断， 它就是<code>test</code>命令。</p>
<p>若你用的是bash， 请在command line下，<br>打<code>man test</code>，或者 <code>man bash</code> 来了解这个<code>test</code>的用法。<br>这是你可用作参考的最精准的文件了，要是听别人说的，仅作参考就好…</p>
<p>下面，我只简单作一些辅助说明，其余的一律以 <code>man</code>为准：<br>首先，<code>test</code>的表达式，我们称为expression，其命令格式有两种：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test expression</span><br></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ expression ]</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Note:</strong></p>
<p>请务必注意 <code>[]</code> 之间的空白键!</p>
</blockquote>
<p>用哪一种格式无所谓，都是一样的效果。<br>(我个人比较喜欢后者…)</p>
<p>其次，bash的<code>test</code>目前支持的测试对象只有三种：</p>
<ul>
<li>string：字符串，也就是纯文字。</li>
<li>integer：整数(0或正整数、不含负数或小数)</li>
<li>file: 文件</li>
</ul>
<p>请初学者，一定要搞清楚这三者的差异，<br>因为<code>test</code>所使用的expression是不一样的。</p>
<p>以A=123这个变量为例：</p>
<ul>
<li><p><code>[ &quot;$A&quot; = 123 ]</code> #是字符串测试，测试$A是不是1、2、3这三个字符。</p>
</li>
<li><p><code>[ &quot;$A&quot; -eq 123 ]</code> #是整数测试，以测试$A是否等于123.</p>
</li>
<li><p><code>[-e &quot;$A&quot; ]</code> #文件测试，测试123这份文件是否存在.</p>
</li>
</ul>
<p>第三，<br>当expression测试为“真”时， <code>test</code>就返回0(true)的<code>return value</code>;<br>否则，返回非0(false).</p>
<p>若在 expression 之前加一个<code>!</code>(感叹号)，则在expression为假时，return value为0,<br>否则, return value 为非0值。</p>
<p>同时，<code>test</code>也允许多重复合测试：</p>
<ul>
<li>expression1 -a expression2 #当两个expression都为true，返回0，否则，返回非0；</li>
<li>expression1 -o expression2 #当两个expression均为false时，返回非0，否则，返回0；</li>
</ul>
<p>例如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ -d "$file"  -a  -x "$file" ]</span><br></pre></td></tr></table></figure></p>
<p>表示当$file是一个目录，且同时具有x权限时，test才会为true。</p>
<p>第四，在command line中使用<code>test</code>时，请别忘记命令行的“重组”特性，<br>也就是在碰到meta时，会先处理meta，在重新组建命令行。<br>(这个概念在第2章和第4章进行了反复强调)</p>
<p>比方说， 若<code>test</code>碰到变量或者命令替换时，<br>若不能满足 expression的格式时，将会得到语法错误的结果。</p>
<p>举例来说好了：</p>
<p>关于<code>[ string1 = string2 ]</code>这个test格式，<br>在等号两边必须要有字符串，其中包括空串(null串,可用soft quote或者hard quote取得)。</p>
<p>假如$A目前没有定义，或被定义为空字符串的话，<br>那如下的用法将会失败：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> unset A</span><br><span class="line"><span class="meta">$</span> [ $A = abc ]</span><br><span class="line">[: =: unary oprator expected</span><br></pre></td></tr></table></figure></p>
<p>这是因为命令行碰到$这个meta时，会替换$A的值，<br>然后，再重组命令行，那就变成了：<br><code>[ = abc ]</code>,<br>如此一来，=的左边就没有字符串存在了，<br>因此，造成test的语法错误。<br>但是，下面这个写法则是成立的。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> [ "$A" = abc ]</span><br><span class="line"><span class="meta">$</span> echo $?</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>这是因为命令行重组后的结果为：<br><code>[ &quot;&quot; = abc ]</code>,<br>由于等号的左边我们用soft quote得到一个空串，<br>而让test的语法得以通过…</p>
<p>读者诸君，请务必留意这些细节哦，<br>因为稍一不慎，将会导致<code>test</code>的结果变了个样。<br>若您对<code>test</code>还不是很有经验的话，<br>那在使用test时，不妨先采用如下这一个”法则”:</p>
<p><strong> 若在<code>test</code>中碰到变量替换，用soft quote是最保险的*</strong>。</p>
<p>若你对quoting不熟的话，请重新温习第四章的内容吧…^_^</p>
<p>okay, 关于更多的<code>test</code>的用法，老话一句：请看其man page (<code>man test</code>)吧！^_^</p>
<p>虽然洋洋洒洒读了一大堆，或许你还在嘀咕…那…那个<code>return value</code>有啥用？</p>
<p>问得好:<br>告诉你：return value的作用可大了，<br>若你想要你的shell变”聪明”的话，就全靠它了：<br>有了return value， 我们可以让shell根据不同的状态做不同的事情…</p>
<p>这时候，才让我来揭晓本章的答案吧^_^</p>
<p><code>&amp;&amp;</code> 与 <code>||</code> 都是用来”组建” 多个command line用的；</p>
<ul>
<li><code>command1 &amp;&amp; command2</code> # command2只有在command1的RV为0(true)的条件下执行。</li>
<li><code>command1 || command2</code> # command2 只有在command1的RV为非0(false)的条件下执行。</li>
</ul>
<p>以例子来说好了：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=123</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] &amp;&amp; echo "yes! it's true."</span><br><span class="line">yes! it's true.</span><br><span class="line"><span class="meta">$</span> unset A</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] &amp;&amp; echo "yes! it's true."</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] || echo "no, it's Not true."</span><br><span class="line">no, it's Not true</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Note:</strong></p>
<p><code>[ -n string ]</code>是测试string长度大于0, 则为true。</p>
</blockquote>
<p>上例中，第一个<code>&amp;&amp;</code>命令之所以会执行其右边的<code>echo</code>命令，<br>是因为上一个<code>test</code>返回了0的RV值；<br>但第二个，就不会执行，因为<code>test</code>返回了非0的结果…<br>同理，<code>||</code>右边的<code>echo</code>会被执行，却正是因为左边的<code>test</code>返回非0所引起的。</p>
<p>事实上，我们在同一个命令行中，可用多个<code>&amp;&amp;</code> 或 <code>||</code> 来组建呢。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=123</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] &amp;&amp; echo "yes! it's true." || echo "no, it's Not ture."</span><br><span class="line">yes! it's true.</span><br><span class="line"><span class="meta">$</span> unset A</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] &amp;&amp; echo "yes! it's true." || echo "no, it's Not ture."</span><br><span class="line">no, it's Not true</span><br></pre></td></tr></table></figure></p>
<p>怎样，从这一刻开始，你是否觉得我们的shell是“很聪明”的呢？ ^_^</p>
<p>好了，最后布置一道练习题给大家做做看：<br>下面的判断是：当$A被赋值时，在看看其是否小于100，否则输出too big！<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> A=123</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] &amp;&amp; [ "$A" -lt 100 ] || echo 'too big!'</span><br><span class="line"><span class="meta">$</span> too big!</span><br></pre></td></tr></table></figure></p>
<p>若我取消A，照理说，应该不会输出文字啊，(因为第一个条件不成立)。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> unset A</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] &amp;&amp; [ "$A" -lt 100 ] || echo 'too big!'</span><br><span class="line"><span class="meta">$</span> too big!</span><br></pre></td></tr></table></figure></p>
<p>为何上面的结果也可得到呢？<br>又如何解决呢？</p>
<blockquote>
<p><strong>Tips:</strong></p>
<p>修改的方法有很多种，<br>其中一种方法可以利用第7章中介绍过 <code>command group</code>…</p>
</blockquote>
<p>快告诉我答案，其余免谈….</p>
<p>解决方法1：<code>sub-shell</code>：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> unset A</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] &amp;&amp; ( [ "$A" -lt 100 ] || echo 'too big!' )</span><br></pre></td></tr></table></figure></p>
<p>解决方法二：<code>command group</code>:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> unset A</span><br><span class="line"><span class="meta">$</span> [ -n "$A" ] &amp;&amp; &#123; [ "$A" -lt 100 ] || echo 'too big!'&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="shell十三问之11：-gt-与-lt-差在哪？"><a href="#shell十三问之11：-gt-与-lt-差在哪？" class="headerlink" title="shell十三问之11：&gt;与&lt; 差在哪？"></a>shell十三问之11：&gt;与&lt; 差在哪？</h2><p>这次的题目，之前我在CU的shell版说明过了：<br>(原帖的连接在论坛改版后，已经失效)<br>这次我就不重写了，将帖子的内容“抄”下来就是了…</p>
<h4 id="1-文件描述符-fd-File-Descriptor"><a href="#1-文件描述符-fd-File-Descriptor" class="headerlink" title="1. 文件描述符(fd, File Descriptor)"></a>1. 文件描述符(fd, File Descriptor)</h4><p>谈到<code>I/O redirection</code>,不妨先让我们认识一下<code>File Descriptor</code>(<code>fd</code>，文件描述符)。</p>
<p>进程的运算，在大部分情况下，都是进行数据(data)的处理，<br>这些数据从哪里，读进来？又输出到哪里呢？<br>这就是file descriptor(fd)的功用了。</p>
<p>在shell的进程中，最常使用的<code>fd</code>大概有三个，分别为:</p>
<ul>
<li>0：standard Input (<code>STDIN</code>) </li>
<li>1: standard output(<code>STDOUT</code>)</li>
<li>2: standard Error output （<code>STDERR</code>）</li>
</ul>
<p>在标准情况下，这些fd分别跟如下设备(device)关联：</p>
<ul>
<li><code>stdin</code>(0): keyboard</li>
<li><code>stdout</code>(1): monitor</li>
<li><code>stderr</code>(2): monitor</li>
</ul>
<blockquote>
<p><strong>Tips:</strong><br>linux中的文件描述符(fd)用整数表示。<br>linux中任何一个进程都默认打开三个文件,<br>这三个文件对应的文件描述符分别是：0, 1, 2;<br>即stdin, stdout, stderr.</p>
</blockquote>
<p>我们可以用如下命令测试一下：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> mail -s test root</span><br><span class="line">this is a test mail。</span><br><span class="line">please skip.</span><br><span class="line">^d (同时按下ctrl 跟d键)</span><br></pre></td></tr></table></figure></p>
<p>很明显，<code>mail</code>进程所读进的数据，就是从<br><code>stdin</code> 也就是keyboard读进的。<br>不过，不见得每个进程的<code>stdin</code>都跟<code>mail</code>一样<br>从<code>keyboard</code>读进，因为进程的作者可以从文件参数读进<code>stdin</code>，<br>如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cat /etc/passwd</span><br></pre></td></tr></table></figure></p>
<p>但，要是<code>cat</code>之后没有文件参数则如何呢？<br>哦， 请你自己玩玩看…^_^<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cat</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Tips:</strong></p>
<p>请留意数据输出到哪里去了，<br>最后别忘了按<code>ctrl+d</code>(<code>^d</code>), 退出stdin输入。</p>
</blockquote>
<p>至于<code>stdout</code>与<code>stderr</code>，嗯…等我有空再续吧…^_^<br>还是，有哪位前辈来玩接龙呢？</p>
<p>相信，经过上一个练习后，<br>你对<code>stdin</code>与<code>stdout</code>应该不难理解了吧？<br>然后，让我们看看<code>stderr</code>好了。</p>
<p>事实上，<code>stderr</code>没什么难理解的：<br>说白了就是“错误信息”要往哪里输出而已…<br>比方说, 若读进的文件参数不存在的，<br>那我们在monitor上就看到了：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls no.such.file</span><br><span class="line">ls: no.such.file: No such file or directory</span><br></pre></td></tr></table></figure>
<p>若同一个命令，同时成生<code>stdout</code>与<code>stderr</code>呢？<br>那还不简单，都送到monitor来就好了：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> touch my.file</span><br><span class="line"><span class="meta">$</span> ls my.file on.such.file</span><br><span class="line">ls: no.such.file: No such file or directory</span><br><span class="line">my.file</span><br></pre></td></tr></table></figure></p>
<p>okay, 至此，关于fd及其名称、还有相关联的设备，<br>相信你已经没问题了吧？</p>
<h4 id="2-I-O-重定向-I-O-Redirection"><a href="#2-I-O-重定向-I-O-Redirection" class="headerlink" title="2. I/O 重定向(I/O Redirection)"></a>2. I/O 重定向(I/O Redirection)</h4><p>那好，接下来让我们看看如何改变这些fd的预设数据通道。</p>
<ul>
<li>用<code>&lt;</code> 来改变读进的数据通道(stdin),使之从指定的文件读进。</li>
<li>用<code>&gt;</code> 来改变输出的数据通道(stdout，stderr),使之输出到指定的文件。</li>
</ul>
<h5 id="2-1-输入重定向n-lt-input-redirection"><a href="#2-1-输入重定向n-lt-input-redirection" class="headerlink" title="2.1 输入重定向n&lt;(input redirection)"></a>2.1 输入重定向<code>n&lt;</code>(input redirection)</h5><p>比方说：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cat &lt; my.file</span><br></pre></td></tr></table></figure></p>
<p>就是从my.file读入数据</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> mail -s test root &lt; /etc/passwd</span><br></pre></td></tr></table></figure>
<p>则是从/etc/passwd读入…</p>
<p>这样一来，stdin将不再是从keyboard读入，<br>而是从指定的文件读入了…</p>
<p>严格来说，<strong><code>&lt;</code>符号之前需要指定一个fd的(之前不能有空白)，但因为0是<code>&lt;</code>的预设值，因此，<code>&lt;</code>与<code>0&lt;</code>是一样的*</strong>。</p>
<p>okay，这样好理解了吧？</p>
<p>那要是用两个<code>&lt;</code>，即<code>&lt;&lt;</code>又是啥呢？<br><strong>这是所谓的<code>here document</code>,<br>它可以让我们输入一段文本，<br>直到读到<code>&lt;&lt;</code> 后指定的字符串</strong>。</p>
<p>比方说：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cat &lt;&lt;EOF</span><br><span class="line">first line here</span><br><span class="line">second line here</span><br><span class="line">third line here</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></p>
<p>这样的话, <code>cat</code>会读入3个句子，<br>而无需从keyboard读进数据且要等到(ctrl+d, ^d)结束输入。</p>
<h5 id="2-2-重定向输出-gt-n-output-redirection"><a href="#2-2-重定向输出-gt-n-output-redirection" class="headerlink" title="2.2 重定向输出&gt;n(output redirection)"></a>2.2 重定向输出<code>&gt;n</code>(output redirection)</h5><p>当你搞懂了<code>0&lt;</code> 原来就是改变<code>stdin</code>的数据输入通道之后，<br>相信要理解如下两个redirection就不难了：</p>
<ul>
<li><code>1&gt;</code> #改变stdout的输出通道；</li>
<li><code>2&gt;</code> #改变stderr的输出通道；</li>
</ul>
<p>两者都是将原来输出到monitor的数据，<br>重定向输出到指定的文件了。</p>
<p><strong>由于1是<code>&gt;</code>的预设值，<br>因此，<code>1&gt;</code>与<code>&gt;</code>是相同的，都是改变<code>stdout</code></strong>.</p>
<p>用上次的ls的例子说明一下好了:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls my.file no.such.file 1&gt;file.out</span><br><span class="line">ls: no.such.file: No such file or directory</span><br></pre></td></tr></table></figure></p>
<p>这样monitor的输出就只剩下<code>stderr</code>的输出了，<br>因为<code>stdout</code>重定向输出到文件file.out去了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls my.file no.such.file 2&gt;file.err</span><br><span class="line">my.file</span><br></pre></td></tr></table></figure>
<p>这样monitor就只剩下了<code>stdout</code>,<br>因为<code>stderr</code>重定向输出到文件file.err了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls my.file no.such.file 1&gt;file.out 2&gt;file.err</span><br></pre></td></tr></table></figure>
<p>这样monitor就啥也没有了，<br>因为<code>stdout</code>与<code>stderr</code>都重定向输出到文件了。</p>
<p>呵呵，看来要理解<code>&gt;</code>一点也不难啦是不？ 没骗你吧？ ^_^<br><strong>不过有些地方还是要注意一下的</strong>。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls my.file no.such.file 1&gt;file.both 2&gt;file.both</span><br></pre></td></tr></table></figure>
<p>假如<code>stdout</code>(1)与<code>stderr</code>(2)都同时在写入file.both的话，<br>则是采取”覆盖”的方式：后来写入覆盖前面的。</p>
<p>让我们假设一个<code>stdout</code>与<code>stderr</code>同时写入到file.out的情形好了；</p>
<ul>
<li>首先<code>stdout</code>写入10个字符</li>
<li>然后<code>stderr</code>写入6个字符</li>
</ul>
<p>那么，这时原本的<code>stdout</code>输出的10个字符，<br>将被<code>stderr</code>输出的6个字符覆盖掉了。</p>
<p>那如何解决呢？所谓山不转路转，路不转人转嘛，<br>我们可以换一个思维：<br>将<code>stderr</code>导进<code>stdout</code><br>或者将<code>stdout</code>导进到<code>stderr</code>,<br>而不是大家在抢同一份文件，不就行了。<br>bingo就是这样啦：</p>
<ul>
<li>2&gt;&amp;1 #将<code>stderr</code>并进<code>stdout</code>输出</li>
<li>1&gt;&amp;2 或者 &gt;&amp;2 #将<code>stdout</code>并进<code>stderr</code>输出。</li>
</ul>
<p>于是，前面的错误操作可以改写为:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls my.file no.such.file 1&gt;file.both 2&gt;&amp;1</span><br><span class="line"><span class="meta">$</span> ls my.file no.such.file 2&gt;file.both &gt;&amp;2</span><br></pre></td></tr></table></figure></p>
<p>这样，不就皆大欢喜了吗？  ^_^</p>
<p>不过，光解决了同时写入的问题还不够，<br>我们还有其他技巧需要了解的。<br>故事还没有结束，别走开广告后，我们在回来….</p>
<h5 id="2-3-I-O重定向与linux中的-dev-null"><a href="#2-3-I-O重定向与linux中的-dev-null" class="headerlink" title="2.3 I/O重定向与linux中的/dev/null"></a>2.3 I/O重定向与linux中的<code>/dev/null</code></h5><p>okay，这次不讲I/O Redirection, 请佛吧…<br>(有没有搞错？<code>网中人</code>是否头壳烧坏了？…)嘻^_^</p>
<p>学佛的最高境界，就是”四大皆空”。<br>至于是空哪四大块，我也不知，因为我还没有到那个境界..<br>这个“空”字,却非常值得反复把玩：<br>—色即是空，空即是色<br>好了，施主要是能够领会”空”的禅意，那离修成正果不远了。</p>
<p> 在linux的文件系统中，有个设备文件: <code>/dev/null</code>.<br> 许多人都问过我，那是什么玩意儿？<br> 我跟你说好了，那就是”空”啦。</p>
<p> 没错空空如也的空就是null了…<br> 请问施主是否忽然有所顿悟了呢？<br> 然则恭喜了。</p>
<p> 这个null在 I/O Redirection中可有用的很呢？</p>
<ul>
<li>将fd <code>1</code>跟fd <code>2</code>重定向到/dev/null去，就可忽略stdout, stderr的输出。</li>
<li>将fd <code>0</code>重定向到/dev/null，那就是读进空(nothing).</li>
</ul>
<p>比方说，我们在执行一个进程时，会同时输出到stdout与stderr，<br>假如你不想看到stderr(也不想存到文件)， 那就可以：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls my.file no.such.file 2&gt;/dev/null</span><br><span class="line">my.file</span><br></pre></td></tr></table></figure></p>
<p>若要相反：只想看到stderr呢？<br>还不简单将stdout，重定向的/dev/null就行：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls my.file no.such.file &gt;/dev/null</span><br><span class="line">ls: no.such.file: No such file or directory</span><br></pre></td></tr></table></figure></p>
<p>那接下来，假如单纯的只跑进程，而不想看到任何输出呢？<br>哦，这里留了一手，上次没讲的法子,专门赠与有缘人… ^_^<br>除了用 <code>&gt;/dev/null 2&gt;&amp;1</code>之外，你还可以如此：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> ls my.file no.such.file &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Tips:</strong></p>
<p>将&amp;&gt;换成&gt;&amp;也行！</p>
</blockquote>
<h5 id="2-4-重定向输出append-gt-gt"><a href="#2-4-重定向输出append-gt-gt" class="headerlink" title="2.4 重定向输出append (&gt;&gt;)"></a>2.4 重定向输出append (<code>&gt;&gt;</code>)</h5><p>okay？ 请完佛，接下来，再让我们看看如下情况：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> echo "1" &gt; file.out</span><br><span class="line"><span class="meta">$</span> cat file.out</span><br><span class="line">1</span><br><span class="line"><span class="meta">$</span> echo "2" &gt; file.out</span><br><span class="line"><span class="meta">$</span> cat file.out</span><br><span class="line">2</span><br></pre></td></tr></table></figure></p>
<p>看来，我们在重定向stdout或stderr进一个文件时，<br>似乎永远只能获得最后一次的重定向的结果.<br>那之前的内容呢？</p>
<p>呵呵，要解决这个问题，很简单啦，将<code>&gt;</code>换成<code>&gt;&gt;</code> 就好了；<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> echo "3" &gt;&gt; file.out</span><br><span class="line"><span class="meta">$</span> cat file.out</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure></p>
<p>如此一来，被重定向的文件的之前的内容并不会丢失，<br>而新的内容则一直追加在最后面去。so easy?…</p>
<p>但是，只要你再次使用<code>&gt;</code>来重定向输出的话，<br>那么，原来文件的内容被truncated(清洗掉)。<br>这是，你要如何避免呢？<br>—-备份， yes，我听到了，不过，还有更好的吗？<br>既然与施主这么有缘分，老衲就送你一个锦囊妙法吧：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> set -o noclobber</span><br><span class="line"><span class="meta">$</span> echo "4" &gt; file.out</span><br><span class="line">-bash：file: cannot overwrite existing file.</span><br></pre></td></tr></table></figure></p>
<p>那，要如何取消这个限制呢?<br>哦，将<code>set -o</code>换成 <code>set +o</code>就行了：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> set +o noclobber</span><br><span class="line"><span class="meta">$</span> echo "5" &gt; file.out</span><br><span class="line"><span class="meta">$</span> cat file.out</span><br><span class="line">5</span><br></pre></td></tr></table></figure></p>
<p>再问：那有办法不取消而又“临时”改写目标文件吗？<br>哦，佛曰：不可告也。<br>啊，开玩笑的，开玩笑啦^_^，<br>哎，早就料到人心是不足的了<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> set -o noclobber</span><br><span class="line"><span class="meta">$</span> echo "6" &gt;| file.out</span><br><span class="line"><span class="meta">$</span> cat file.out</span><br><span class="line">6</span><br></pre></td></tr></table></figure></p>
<p>留意到没有：<br><strong>在<code>&gt;</code>后面加个<code>|</code>就好，<br>注意： <code>&gt;</code>与<code>|</code>之间不能有空白哦</strong>…</p>
<p>#####2.5 I/O Redirection的优先级</p>
<p>呼….(深呼吸吐纳一下吧) ^_^<br>再来还有一个难题要你去参透呢:<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> echo "some text here" &gt;file</span><br><span class="line"><span class="meta">$</span> cat &lt; file</span><br><span class="line">some text here</span><br><span class="line"><span class="meta">$</span>cat &lt; file &gt;file.bak</span><br><span class="line"><span class="meta">$</span>cat &lt; file.bak</span><br><span class="line">some text here</span><br><span class="line"><span class="meta">$</span>cat &lt; file &gt;file</span><br></pre></td></tr></table></figure></p>
<p>嗯？注意到没有？<br>—怎么最后那个cat命令看到file是空的呢？<br>why？ why？ why？</p>
<p>前面提到：<code>$cat &lt; file &gt; file</code>之后，<br>原本有内容的文件，结果却被清空了。<br>要理解这个现象其实不难，<br>这只是priority的问题而已：<br><strong> 在IO Redirection中, stdout与stderr的管道先准备好，<br>才会从stdin读入数据。</strong><br>也就是说，在上例中，<code>&gt;file</code>会将file清空，<br>然后才读入 <code>&lt; file</code>。<br>但这时候文件的内容已被清空了，因此就变成了读不进任何数据。</p>
<p>哦，原来如此^_^<br>那…如下两例又如何呢？<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cat &lt;&gt; file</span><br><span class="line"><span class="meta">$</span> cat &lt; file &gt;&gt;file</span><br></pre></td></tr></table></figure></p>
<p>嗯…同学们，这两个答案就当练习题喽，<br>下课前交作业。</p>
<blockquote>
<p><strong>Tips:</strong><br>我们了解到<code>&gt;file</code>能够快速把文件file清空；<br>或者使用<code>:&gt;file</code>同样可以清空文件，<br><code>:&gt;file</code>与<code>&gt;file</code>的功能：<br>若文件file存在，则将file清空; 否则，创建空文件file (等效于<code>touch file</code>);<br>二者的差别在于<code>&gt;file</code>的方式不一定在所有的shell的都可用。</p>
<p><code>exec 5&lt;&gt;file; echo &quot;abcd&quot; &gt;&amp;5; cat &lt;&amp;5</code><br>将file文件的输入、输出定向到文件描述符5，<br>从而描述符5可以接管file的输入输出；<br>因此，<code>cat &lt;&gt;file</code>等价于<code>cat &lt; file</code>。</p>
<p>而<code>cat &lt; file &gt;&gt;file</code>则使file内容成几何级数增长。</p>
</blockquote>
<p>好了， I/O Redirection也快讲完了，<br>sorry,因为我也只知道这么多而已啦嘻^_^<br>不过，还有一样东东是一定要讲的，各位观众(请自行配乐~!#@$%):<br>就是<code>pipe line</code>也。</p>
<h5 id="2-6-管道-pipe-line"><a href="#2-6-管道-pipe-line" class="headerlink" title="2.6 管道(pipe line)"></a>2.6 管道(pipe line)</h5><p>谈到<code>pipe line</code>，我相信不少人都不会陌生：<br>我们在很多command line上常看到<code>|</code>符号就是pipe line了。</p>
<p>不过，pipe line究竟是什么东东呢？<br>别急别急…先查一下英文字典，看看pipe是什么意思？<br>没错他就是“水管”的意思…<br>那么，你能想象一下水管是怎样一个根接一根的吗？<br>又， 每根水管之间的input跟output又如何呢？<br>灵光一闪：原来pipe line的I/O跟水管的I/O是一模一样的：<br><strong>上一个命令的stdout接到下一个命令的stdin去了</strong><br>的确如此。不管在command line上使用了多少个pipe line，<br>前后两个command的I/O是彼此连接的<br>(恭喜：你终于开放了 ^_^ )</p>
<p>不过…然而…但是… …stderr呢？<br>好问题不过也容易理解：<br>若水管漏水怎么办？<br>也就是说：在pipe line之间,<br>前一个命令的stderr是不会接进下一个命令的stdin的，<br>其输出，若不用2&gt;file的话，其输出在monitor上来。<br>这点请你在pipe line运用上务必要注意的。</p>
<p>那，或许你有会问:<br><strong>有办法将stderr也喂进下一个命令的stdin吗？</strong><br>(贪得无厌的家伙)，方法当然是有的，而且，你早已学习过了。<br>提示一下就好：**请问你如何将stderr合并进stdout一同输出呢？<br>若你答不出来，下课后再来问我…(如果你脸皮足够厚的话…)</p>
<p>或许，你仍意犹未尽，或许，你曾经碰到过下面的问题：<br>在<code>cmd1 | cmd2 | cmd3 | ...</code><br>这段pipe line中如何将cmd2的输出保存到一个文件呢？</p>
<p>若你写成<code>cmd1 | cmd2 &gt;file | cmd3</code>的话，<br>那你肯定会发现<code>cmd3</code>的stdin是空的，(当然了，你都将<br>水管接到别的水池了)<br>聪明的你或许会如此解决：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd1 | cmd2 &gt;file; cmd3 &lt; file</span><br></pre></td></tr></table></figure></p>
<p>是的，你可以这样做，但最大的坏处是：<br>file I/O会变双倍，在command执行的整个过程中，<br>file I/O是最常见的最大效能杀手。<br>凡是有经验的shell操作者，都会尽量避免或降低file I/O的频度。</p>
<p>那上面问题还有更好的方法吗？<br>有的，那就是<code>tee</code>命令了。<br><strong>所谓的<code>tee</code>命令是在不影响原本I/O的情况下，<br>将stdout赋值到一个文件中去。</strong><br>因此，上面的命令行，可以如此执行：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd1 | cmd2 | tee file | cmd3</span><br></pre></td></tr></table></figure></p>
<p>在预设上，<code>tee</code>会改写目标文件，<br>若你要改为追加内容的话，那可用-a参数选项。</p>
<p>基本上，pipe line的应用在shell操作上是非常广泛的。<br>尤其是在text filtering方面，<br>如，cat, more, head, tail, wc, expand, tr,<br>grep, sed, awk…等等文字处理工具。<br>搭配起pipe line 来使用，你会觉得 command line<br>原来活得如此精彩的。<br>常让人有“众里寻他千百度，蓦然回首，那人却在灯火阑珊处”之感…</p>
<p>好了，关于I/O Redirection的介绍就到此告一段落。<br>若日后，有空的话，在为大家介绍其他在shell上好玩的东西。</p>
<h2 id="shell十三问之12：你要if还是case呢？"><a href="#shell十三问之12：你要if还是case呢？" class="headerlink" title="shell十三问之12：你要if还是case呢？"></a>shell十三问之12：你要if还是case呢？</h2><p>还记得我们在第10章所介绍的<code>return value</code>吗？</p>
<p>是的，接下来的介绍的内容与之有关，<br>若你的记忆也被假期所抵消的话，<br>那建议您还是回去温习温习再回来…</p>
<p>若你记得<code>return value</code>，我想你也应该记得了<br><code>&amp;&amp;</code> 与 <code>||</code> 什么意思吧?<br>用这两个符号再搭配 command group的话，<br>我们可让shell script变得更加聪明哦。<br>比方说：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cmd1 &amp;&amp; &#123;</span><br><span class="line">    cmd2</span><br><span class="line">	cmd3</span><br><span class="line">	;</span><br><span class="line">&#125; || &#123;</span><br><span class="line">	cmd4</span><br><span class="line">	cmd5</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>意思是说：<br>若 cmd1的<code>return value</code>为true的话，<br>然后执行cmd2与cmd3，<br>否则执行cmd4与cmd5.</p>
<p>事实上， 我们在写shell script的时候，<br>经常需要用到这样、那样的条件<br>以作出不同的处理动作。<br>用<code>&amp;&amp;</code>与<code>||</code>的确可以达成条件执行的结果，<br>然而，从“人类语言”上来理解，<br>却不是那么直观。<br>更多时候，我们还是喜欢用<code>if...then...else...</code><br>这样的的keyword来表达条件执行。</p>
<p>在bash shell中，我们可以如此修改上一段代码：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if cmd1</span><br><span class="line">then</span><br><span class="line">	cmd2</span><br><span class="line">	cmd3</span><br><span class="line">else</span><br><span class="line">	cmd4</span><br><span class="line">	cmd5</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></p>
<p>这也是我们在shell script中最常用的<code>if</code>判断式：<br> 只要<code>if</code>后面的command line返回true的return value<br> (我们常用<code>test</code>命令返回的return value)，<br> 然则就执行<code>then</code>后面的命令，否则，执行<code>else</code>之后的命令，<br> <code>fi</code>则是用来结束判断式的keyword。</p>
<p> 在<code>if</code>的判断式中，<code>else</code>部分可以不用，但<code>then</code>是必需的。<br> (若<code>then</code>后不想跑任何command，可用<code>:</code>这个<code>null command</code>代替)。<br> 当然，then或else后面，也可以再使用更进一层的条件判断式，<br> 这在shell script的设计上很常见。<br> 若有多项条件需要”依序”进行判断的话，<br> 那我们则可使用<code>elif</code>这样的keyword：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if cmd1; then</span><br><span class="line">    cmd2;</span><br><span class="line">elif cmd3; then</span><br><span class="line"> 	cmd4</span><br><span class="line">else</span><br><span class="line"> 	cmd5</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<p> 意思是说：<br>     若cmd1为true，然则执行cmd2；<br>     否则在测试cmd3，若为true则执行cmd4；<br>     倘若cmd1与cmd3均不成立，那就执行cmd5。</p>
<p> <code>if</code>判断式的例子很常见，你可从很多shell script中<br> 看得到，我这里不再举例子了…</p>
<p> 接下来为要为大家介绍的是<code>case</code>判断式。<br> 虽然<code>if</code>判断式已可应付大部分的条件执行了，<br> 然而，在某些场合中，却不够灵活，<br> <strong>尤其是在string式样的判断上</strong>，比方如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">QQ() &#123;</span><br><span class="line">    echo -n "Do you want to continue? (Yes/No): "</span><br><span class="line"> 	read YN</span><br><span class="line"> 	if [ "$YN" = Y -o "$YN" = y -o "$YN" = "Yes" -o "$YN" = "yes" -o "$YN" = YES]</span><br><span class="line"> 	then</span><br><span class="line"> 		QQ</span><br><span class="line"> 	else</span><br><span class="line"> 		exit 0</span><br><span class="line"> 	fi	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QQ</span><br></pre></td></tr></table></figure>
<p>从例中，我们看得出来，<br>最麻烦的部分是在判断YN的值可能有好几种样式。</p>
<p>聪明的你或许会如此修改：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> QQ() &#123;</span><br><span class="line"> 	echo -n "Do you want to continue? (Yes/No): "</span><br><span class="line"> 	read YN</span><br><span class="line"> 	if echo "$YN" | grep -q '^[Yy]\([Ee][Ss]\)*$'</span><br><span class="line"> 	then</span><br><span class="line"> 		QQ</span><br><span class="line"> 	else</span><br><span class="line"> 		exit 0</span><br><span class="line"> 	fi	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QQ</span><br></pre></td></tr></table></figure></p>
<p>也就是用<code>Regular Expression</code>来简化代码。<br>(我们有机会，再来介绍<code>RE</code>)<br>只是…是否有其他更方便的方法呢？<br>有的，就是用<code>case</code>判断式即可：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> QQ() &#123;</span><br><span class="line"> 	echo -n "Do you want to continue? (Yes/No): "</span><br><span class="line"> 	read YN</span><br><span class="line"> 	case "$YN" in</span><br><span class="line"> 		[Yy]|[Yy][Ee][Ss])</span><br><span class="line"> 			QQ</span><br><span class="line"> 			;;</span><br><span class="line"> 		*)</span><br><span class="line"> 			exit 0</span><br><span class="line"> 			;;</span><br><span class="line"> 	esac</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">QQ</span><br></pre></td></tr></table></figure></p>
<p>我们常用的<code>case</code>的判断式来判断某一变量<br>在不同的值(通常是string)时，作出不同的处理，<br>比方说， <strong>判断script参数，以执行不同的命令</strong>。</p>
<p>若你有兴趣，且用linux系统的话，<br>不妨挖一挖<code>/etc/init.d/*</code>中的那堆script中的<code>case</code>用法.<br>如下就是一例：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">case "$1" in</span><br><span class="line">	start)</span><br><span class="line">		start</span><br><span class="line">		;;</span><br><span class="line">	stop)</span><br><span class="line">		stop</span><br><span class="line">		;;</span><br><span class="line">	status)</span><br><span class="line">		rhstatus</span><br><span class="line">		;;</span><br><span class="line">	restart|reload)</span><br><span class="line">		restart</span><br><span class="line">		;;</span><br><span class="line">	condrestart)</span><br><span class="line">		[ -f /var/lock/subsys/syslog ] &amp;&amp; restart || :</span><br><span class="line">		;;</span><br><span class="line"></span><br><span class="line">	*)</span><br><span class="line">		echo $"Usage: $0 &#123;start|stop|status|restart|condrestart&#125;"</span><br><span class="line">		exit 1</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></p>
<p>(若你对 postional parameter的印象已经模糊了，请重看第9章吧。)</p>
<p>okay，是十三问还剩一问而已，过几天再来搞定之…^_^</p>
<h2 id="shell十三问之13：-for-what？-while与until差在哪？"><a href="#shell十三问之13：-for-what？-while与until差在哪？" class="headerlink" title="shell十三问之13： for what？ while与until差在哪？"></a>shell十三问之13： for what？ while与until差在哪？</h2><p>终于，来到了shell十三问的最后一问了… 长长吐一口气~</p>
<p>最后要介绍的是shell script设计中常见的<code>循环</code>(<code>loop</code>).<br>所谓的<code>loop</code>就是script中的一段在一定条件下反复执行的代码。</p>
<p>bash shell中常用的<code>loop</code>有如下三种：</p>
<ul>
<li>for</li>
<li>while</li>
<li>until</li>
</ul>
<h3 id="1-for-loop"><a href="#1-for-loop" class="headerlink" title="1. for loop"></a>1. for loop</h3><p><code>for</code> loop 是从一个清单列表中读进变量的值，<br>并依次的循环执行<code>do</code>到<code>done</code>之间的命令行。<br>例：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for var in one two three four five</span><br><span class="line">do</span><br><span class="line">    echo -----------------</span><br><span class="line">	echo '$var is '$var</span><br><span class="line">	echo</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p> 上例的执行结果将会是：</p>
<ol>
<li><p>for会定义一个叫var的变量，其值依次是one two three four five。</p>
<ol>
<li><p>因为有5个变量值，因此，<code>do</code>与<code>done</code>之间的命令行会被循环执行5次。</p>
</li>
<li><p>每次循环均用<code>echo</code>产生3个句子。而第二行中不在hard quote之内的$var会被替换。</p>
</li>
<li><p>当最后一个变量值处理完毕，循环结束。</p>
</li>
</ol>
</li>
</ol>
</blockquote>
<p>我们不难看出，在<code>for</code> loop中，变量值的多寡，决定循环的次数。<br>然而，变量在循环中是否使用则不一定，得视设计需求而定。<br>倘若<code>for</code> loop没有使用in这个keyword来制变量清单的话，其值将从<br><code>$@</code>(或<code>$*</code>)中继承：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for var; do</span><br><span class="line">	......</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>Tips:</strong></p>
<p>若你忘记了`positional parameter, 请温习第9章…</p>
</blockquote>
<p><code>for</code> loop用于处理“清单”(list)项目非常方便，<br>其清单除了明确指定或从<code>postional parameter</code>取得之外，<br>也可以从<code>变量替换</code>或者<code>命令替换</code>取得…<br>(再一次提醒：别忘了命令行的“重组”特性)<br>然而，对于一些“累计变化”的项目(整数的加减)，for也能处理：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for ((i = 1; i &lt;= 10; i++))</span><br><span class="line">do</span><br><span class="line">	echo "num is $i"</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<h3 id="2-while-loop"><a href="#2-while-loop" class="headerlink" title="2. while loop"></a>2. while loop</h3><p>除了<code>for</code> loop, 上面的例子，<br>我们也可改用<code>while</code> loop来做到：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num=1</span><br><span class="line">while [ "$num" -le 10 ]; do</span><br><span class="line">	echo "num is $num"</span><br><span class="line">	num=$(($num + 1))</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<p><code>while</code> loop的原理与<code>for</code> loop稍有不同：<br>它不是逐次处理清单中的变量值，<br>而是取决于<code>while</code> 后面的命令行的return value：</p>
<ul>
<li>若为true， 则执行<code>do</code>与<code>done</code>之间的命令，<br>然后重新判断<code>while</code>后的return value。</li>
<li>若为false，则不再执行<code>do</code>与<code>done</code>之间的命令而结束循环。</li>
</ul>
<blockquote>
<p>分析上例：</p>
<ol>
<li><p>在<code>while</code>之前，定义变量num=1.</p>
<ol>
<li>然后测试(<code>test</code>)$num是否小于或等于10.</li>
</ol>
</li>
<li><p>结果为true，于是执行<code>echo</code>并将num的值加1.</p>
</li>
<li><p>再作第二轮测试，此时num的值为1+1=2，依然小于或等于10，因此，为true，循环继续。</p>
</li>
<li><p>直到num为10+1=11时，测试才会失败…于是结束循环。</p>
</li>
</ol>
</blockquote>
<p>我们不难发现：<br><strong>若<code>while</code>的测试结果永远为true的话，那循环将一直永久执行下去</strong>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while:; do</span><br><span class="line">	echo looping...</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>上面的<strong><code>:</code>是bash的null command，不做任何动作，<br>除了返回true的return value</strong>。<br>因此这个循环不会结束，称作死循环。</p>
<p>死循环的产生有可能是故意设计的(如跑daemon)，<br>也可能是设计的错误。</p>
<p>若要结束死循环，可通过signal来终止(如按下ctrl-c).<br>(关于process与signal，等日后有机会再补充，十三问略过。)</p>
<h2 id="3-until-loop"><a href="#3-until-loop" class="headerlink" title="####3.until loop"></a>####3.until loop</h2><p>一旦你能够理解<code>while</code> loop的话，那就能理解<code>until</code> loop:<br>**与<code>while</code>相反， <code>until</code>是在return value 为false时进入循环，否则，结束。<br>因此，前面的例子，我们也可以轻松的用<code>until</code>来写：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">num=1</span><br><span class="line">until [ ! "$num" -le 10 ]; do</span><br><span class="line">	echo "num is $num"</span><br><span class="line">	num=$(($num + 1))</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<p>或者：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">num=1</span><br><span class="line"></span><br><span class="line">until [ "$num" -gt 10 ]; do</span><br><span class="line">	echo "num is $num"</span><br><span class="line">	num=$(($num + 1))</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>okay, 关于bash的三个常用的loop暂时介绍到这里。</p>
<h2 id="4-shell-loop中的break与continue"><a href="#4-shell-loop中的break与continue" class="headerlink" title="###4. shell loop中的break与continue"></a>###4. shell loop中的break与continue</h2><p>在结束本章之前，再跟大家补充两个loop有关的命令：</p>
<ul>
<li><code>break</code></li>
<li><code>continue</code><br>这两个命令常用在复合式循环里，<br>也就是<code>do ... done</code>之间又有更进一层的loop，<br>当然，用在单一循环中也未尝不可啦… ^_^</li>
</ul>
<p><code>break</code>用来中断循环，也就是强迫结束循环。<br>若<code>break</code>后面指定一个数值n的话，则从里向外中断第n个循环，<br>预设值为 <code>break 1</code>，也就是中断当前循环。<br>在使用break时，需要注意的是，它与<code>return</code>及<code>exit</code>是不同的：</p>
<ul>
<li><code>break</code>是结束loop；</li>
<li><code>return</code>是结束function；</li>
<li><code>exit</code>是结束script/shell;</li>
</ul>
<p>而<code>continue</code>则与<code>break</code>相反：强迫进入下一次循环动作.</p>
<p>若你理解不来的话，那你可简单的看成：<br>在<code>continue</code>在<code>done</code>之间的句子略过而返回到循环的顶端…</p>
<p>与<code>break</code>相同的是：<code>continue</code>后面也可以指定一个数值n，<br>以决定继续哪一层(从里往外计算)的循环，<br>预设值为 <code>continue 1</code>,也就是继续当前的循环。</p>
<p>在shell script设计中，若能善用loop，<br>将能大幅度提高script在复杂条件下的处理能力。<br>请多加练习吧…</p>
<hr>
<h2 id="shell是十三问的总结语"><a href="#shell是十三问的总结语" class="headerlink" title="shell是十三问的总结语"></a>shell是十三问的总结语</h2><p>好了，该是到了结束的时候了。<br>婆婆妈妈地跟大家啰嗦了一堆shell的基础概念。</p>
<p>目的不是要告诉大家“答案”，而是要带给大家“启发”…</p>
<p>在日后的关于shell的讨论中，我或许经常用”连接”的方式<br>指引十三问中的内容。</p>
<p>以便我们在进行技术探讨时，彼此能有一些讨论的基础，<br>而不至于各说各话、徒费时力。</p>
<p>但更希望十三问能带给你更多的思考与乐趣，<br>至为重要的是通过实践来加深理解。</p>
<p>是的，我很重视<strong>实践</strong>与<strong>独立思考</strong>这两项学习要素。</p>
<p>若你能够掌握其中的真谛，那请容我说声：<br><strong>恭喜十三问你没白看了</strong> ^_^</p>
<p>p.s.<br>至于补充问题部分，我暂时不写了。<br>而是希望：</p>
<ol>
<li>大家补充题目。</li>
<li>一起来写心得。</li>
</ol>
<p>Good luck and happy studing！</p>
<hr>
<h2 id="shell十三问原作者网中人签名中的bash的fork-bomb"><a href="#shell十三问原作者网中人签名中的bash的fork-bomb" class="headerlink" title="shell十三问原作者网中人签名中的bash的fork bomb"></a>shell十三问原作者<strong><code>网中人</code></strong>签名中的bash的fork bomb</h2><p>最后，Markdown整理者补上本书的原作者<strong>网中人</strong>的个性签名：</p>
<blockquote>
<p><strong> 君子博学而日叁省乎己，则知明而行无过矣。</strong></p>
<p>一个能让系统shell崩溃的shell 片段：</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:() &#123; :|:&amp; &#125;; :      # &lt;--- 这个别乱跑！好奇会死人的！</span><br><span class="line">echo '十人|日一|十十o' | sed 's/.../&amp;\n/g'   # &lt;--- 跟你讲就不听，再跑这个就好了...</span><br></pre></td></tr></table></figure>
<p>原来是一个bash的fork炸弹：ref：<a href="http://en.wikipedia.org/wiki/Fork_bomb" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/Fork_bomb</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:() &#123;</span><br><span class="line">	</span><br><span class="line">	:|:&amp;</span><br><span class="line">&#125;</span><br><span class="line">:</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码分析：</p>
<p>(即除最后一行外)</p>
<p>定义了一个 shell 函数，函数名是<code>:</code>，</p>
<p>而这个函数体执行一个后台命令<code>:|:</code> </p>
<p>即冒号命令(或函数，下文会解释)的输出<br>通过管道再传给冒号命令做输入</p>
<p>最后一行执行“:”命令</p>
</blockquote>
<p>在各种shell中运行结果分析：</p>
<blockquote>
<p>这个代码只有在 <strong>bash</strong> 中执行才会出现不断创建进程而耗尽系统资源的严重后果;</p>
<p>在 ksh (Korn shell), sh (Bourne shell)中并不会出现，</p>
<p>在 ksh88 和传统 unix Bourne shell 中冒号不能做函数名，</p>
<p>即便是在 unix-center freebsd 系统中的 sh 和 pdksh（ksh93 手边没有，没试）中冒号可以做函数名，但还是不会出现那个效果。</p>
<p>原因是 sh、ksh 中内置命令的优先级高于函数，所以执行“:”，<br>总是执行内置命令“:”而不是刚才定义的那个恐怖函数。</p>
<p>但是在 <strong>bash</strong> 中就不一样，bash 中函数的优先级高于内置命令，<br>所以执行“:”结果会导致不断的递归，而其中有管道操作，<br>这就需要创建两个子进程来实现，这样就会不断的创建进程而导致资源耗尽。</p>
</blockquote>
<p>众所周知，bash是一款极其强大的shell，提供了强大的交互与编程功能。</p>
<p>这样的一款shell中自然不会缺少“函数”这个元素来帮助程序进行模块化的高效开发与管理。<br>于是产生了由于其特殊的特性，bash拥有了fork炸弹。</p>
<p>Jaromil在2002年设计了最为精简的一个fork炸弹的实现。</p>
<blockquote>
<p>所谓fork炸弹是一种恶意程序，它的内部是一个不断在fork进程的无限循环.</p>
<p>fork炸弹并不需要有特别的权限即可对系统造成破坏。</p>
<p>fork炸弹实质是一个简单的递归程序。</p>
<p>由于程序是递归的，如果没有任何限制，</p>
<p>这会导致这个简单的程序迅速耗尽系统里面的所有资源.</p>
</blockquote>
<h2 id="shell十三问之14-跟-差在哪？-wildcard"><a href="#shell十三问之14-跟-差在哪？-wildcard" class="headerlink" title="shell十三问之14: [^ ] 跟[! ]差在哪？ (wildcard)"></a>shell十三问之14: [^ ] 跟[! ]差在哪？ (wildcard)</h2><p>这个题目说穿了，<br>就是要探讨Wildcard与Regular Expression的差别的。<br>这也是很多初学shell的朋友很容易混淆的地方。</p>
<p>首先，让我们回到十三问之第2问，<br>再一次将我们提到的command line format 温习一次：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command_name options arguments</span><br></pre></td></tr></table></figure>
<p>同时，也再来理解一下，我在第5章所提到的变量替换的特性：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先替换，再重组 command line!</span><br></pre></td></tr></table></figure></p>
<p>有了这个两个基础后，再让我们来看Wildcard是什么回事吧。</p>
<h3 id="Part-I-Wildcard-（通配符）"><a href="#Part-I-Wildcard-（通配符）" class="headerlink" title="Part-I Wildcard （通配符）"></a>Part-I Wildcard （通配符）</h3><p>首先，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`Wildcard` 也是属于 `command line` 的处理工序，作用于 `arguments` 里的 `path` 之上。</span><br></pre></td></tr></table></figure></p>
<p>没错，它不用在<code>command_name</code>，也不用在<code>options</code>上。<br>而且，若argument不是path的话，那也与wildcard无关。</p>
<p>换句更为精确的定义来讲，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`wildcard`是一种命令行的路径扩展(path expansion)功能。</span><br></pre></td></tr></table></figure></p>
<p>提到这个扩展，那就不要忘了 command line的“重组”特性了！</p>
<p>是的，这与<code>变量替换</code>(variable subtitution)及<br><code>命令替换</code>(command substitution)的重组特性是一样的。</p>
<p>也就是在<code>wildcard</code>进行扩展后，<br>命令行会先完成重组，才会交给shell来处理。</p>
<p>了解了<code>wildcard</code>的扩展与重组特性后，<br>接下来，让我们了解一些常见的wildcard吧。 </p>
<table>
<thead>
<tr>
<th>wildcard</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>匹配0个或多个字符</td>
</tr>
<tr>
<td>?</td>
<td>匹配任意单一字符</td>
</tr>
<tr>
<td>[list]</td>
<td>匹配list中任意单一字符</td>
</tr>
<tr>
<td>[!list]</td>
<td>匹配不在list中任意单一字符</td>
</tr>
<tr>
<td>{string1,string2,…}</td>
<td>匹配string1或者stsring2或者(…)中其一字符串</td>
</tr>
</tbody>
</table>
<p>Note:<br>  list 中可以指定单个字符，如abcd,<br> 也可以指定ASCII字符的起止范围，如 a-d。<br>  即[abcd] 与 [a-d] 是等价的，称为一个自定义的字符类。</p>
<p>例如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a*b     # a 与 b 之间可以有任意个字符（0个或多个），如aabcb, axyzb, a012b,ab等。</span><br><span class="line">a?b     # a 与 b 之间只能有一个字符，但该字符可以任意字符，如 aab, abb, acb, azb等。</span><br><span class="line">a[xyz]b # a 与 b 之间只能有一个字符，但这个字符只能是x或者y或者z，如：axb, ayb, azb这三个。</span><br><span class="line">a[!0-9]b# a 与 b 之间只能有一个字符，但这个字符不能是阿拉伯数字，如aab，ayb，a-b等。</span><br><span class="line">a&#123;abc,xyz,123&#125;b # a 与 b之间只能是abc或者xyz或者123这三个字串之一，扩展后是aabcb，axyzb，a123b。</span><br></pre></td></tr></table></figure></p>
<ol>
<li><p><code>[! ]</code> 中的<code>!</code> 只有放在第一位时，才有取反的功效。<br>eg:<br> <code>[!a]*</code> 表示当前目录下不以a开头的路径名称；<br> <code>/tmp/[a\!]*</code>表示/tmp目录下所有以a 或者 ! 开头的路径名称；</p>
<p> 思考：为何!前面要加\呢？提示是十三问之4.</p>
</li>
<li><p><code>[ - ]</code>中<code>-</code>左右两边均有字符时，才表示一个范围，否则,仅作<code>-</code>(减号)字符来处理。<br>举例：<br> <code>/tmp/*[-z]/[a-zA-Z]*</code> 表示/tmp 目录下所有以z或者-结尾的子目录中，<br> 以英文字母(不分大小写)开头的目录名称。</p>
</li>
<li><p>以*或?开头的wildcard不能匹配隐藏文件(即以.开头的文件名)。<br>eg:<br> <code>*.txt</code>并不能匹配<code>.txt</code>但能匹配1.txt这样的路径名。<br> 但1*txt及1?txt均可匹配1.txt这样的路径名。</p>
</li>
</ol>
<p>基本上，要掌握wildcard并不难，<br>只要多加练习，再勤于思考，就能灵活运用了。</p>
<p>再次提醒：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">别忘了wildcard的&quot;扩展&quot; + &quot;重组&quot; 这个重要特性，而且只作用在 argument的path上。</span><br></pre></td></tr></table></figure></p>
<p>比方说，<br>假如当前目录下有：<br>a.txt b.txt c.txt 1.txt 2.txt 3.txt 这几个文件。</p>
<p>当我们在命令行中执行<code>ls -l [0-9].txt</code>的命令行时，<br>因为wildcard处于argument的位置上，</p>
<p>于是根据匹配的路径，扩展为: 1.txt 2.txt 3.txt，<br>在重组出<code>ls -l 1.txt 2.txt 3.txt</code> 这样的命令行。</p>
<p>因此，你在命令行上敲 <code>ls -l [0-9].txt</code><br>与 <code>ls -l 1.txt 2.txt 3.txt</code> 输出的结果是一样，<br>原因就是在于此。</p>
<h2 id="shell十三问之15-跟-差在哪？-RE-Regular-Expression）"><a href="#shell十三问之15-跟-差在哪？-RE-Regular-Expression）" class="headerlink" title="shell十三问之15: [^ ] 跟[! ]差在哪？ (RE: Regular Expression）"></a>shell十三问之15: [^ ] 跟[! ]差在哪？ (RE: Regular Expression）</h2><h3 id="Part-II-Regular-Expression-正则表达式"><a href="#Part-II-Regular-Expression-正则表达式" class="headerlink" title="Part-II Regular Expression (正则表达式)"></a>Part-II Regular Expression (正则表达式)</h3><p>接下来的Regular Expression(RE) 可是个大题目，要讲的很多。<br>我这里当然不可能讲得很全。<br>只希望能带给大家一个基本的入门概念，就很足够了…</p>
<p>先来考一下英文好了：What is expression?<br>简单来说，就是”表达”，也就是人们在沟通的时候所要陈述的内容。</p>
<p>然而，生活中，表达方要清楚的将意思描述清楚，<br>而让接收方完整无误地领会，可不是件容易的事情。</p>
<p>因而才会出现那么多的”误会”, 真可叹句”表达不易”啊……</p>
<p>同样的情形也发生在计算机的数据处理过程中，<br>尤其是当我们在描述一段”文字内容”的时候….<br>那么，我们不禁要问：<br>有何方法可以让大家的误会降至最低程度，<br>而让表达的精确度达到最高程度呢？<br>答案就是”标准化”了，<br>也就是我们这里要谈的<code>Regular Expression</code>啦…^_^</p>
<p>然而，在进入<code>RE</code>介绍之前，不妨先让我们温习一下shell十三问之第4问，<br>那就是关于quoting的部分。</p>
<p><strong>关键是要能够区分 shell command line上的meta与literal的这两种不同的字符类型</strong>。</p>
<p>然后，我这里也跟你讲：<br><strong>RE 表达式里字符也分meta与literal这两种</strong>。</p>
<p>呵，不知亲爱的读者是否被我搞混乱了呢？… ^_^</p>
<p>这也难怪啦，因为这的确是最容易混淆的地方，<br>刚学<code>RE</code>的朋友很多时候，都死在这里！<br>因此，请特别小心理解哦…</p>
<p>简单而言，除非你将<code>RE</code>写在特定程序使用的脚本里，<br>否则，我们的<code>RE</code>也是通过 command line输入的。<br>然而，<br><strong>不少RE所使用的meta字符，跟shell 的meta字符是冲突的</strong>。</p>
<p>比方说，<br><strong><code>*</code>这个字符，在RE里是一个modifier(修饰符);而在command line上，确是wildcard(通配符)</strong>。</p>
<p>那么，我们该如何解决这样的冲突呢？<br>关键就是看你对shell十三问的第4问中所提的quoting是否足够理解了！</p>
<p>若你明白到<br><strong>shell quoting 就是用来在command line上关闭shell meta这一基本原理</strong>，<br>那你就能很轻松的解决 RE meta与shell meta的冲突问题了：<br><strong>用shell quoting 关闭掉shell meta就是了</strong>。<br>就这么简单… ^_^</p>
<p>再以刚提到<code>*</code>字符为例，<br>若在command line的path中没有quoting处理的话，<br>如abc* 就会被作为wildcard expression来扩充及重组了。<br>若将其置于quoting中，即”abc*“，则可以避免wildcard expand的处理。</p>
<p>好了，说了大半天，还没有进入正式的RE介绍呢….<br>大家别急，因为我的教学风格就是要先建立基础，循序渐进的… ^_^<br>因此, 我这里还要再啰嗦一个观念，才会到RE的说明啦…(哈…别打我…)</p>
<p>当我们在谈到RE时，千万别跟wildcard搞混在一起！<br>尤其是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在command line的位置里，wildcard只作用于argument的path上；</span><br><span class="line">而RE却只用于&quot;字符串处理&quot; 的程序中，这与路径名一点关系也没有。</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p> <strong>Tips:</strong><br> RE 所处理的字符串，通常是指纯文本或通过stdin读进的内容。</p>
</blockquote>
<p>okay，够了够了，我已看到一堆人开始出现不耐烦的样子了… ^_^<br>现在，就让我们登堂入室，揭开RE的神秘面纱吧，<br>这样可以放过我了吧？ 哈哈…</p>
<p>在RE的表达式里，主要分为两种字符：<code>literal</code>与<code>meta</code>。<br>所谓<code>literal</code>就是在RE里不具有特殊功能的字符，如abc，123等；<br>而<code>meta</code>,在RE里具有特殊的功能。<br>要关闭之，需要在<code>meta</code>之前使用escape()转义字符。</p>
<p>然而，在介绍<code>meta</code>之前，先让我们来认识一下字符组合(character set)会更好些。</p>
<p>一、所谓的char set就是将多个连续的字符作为一个集合。<br>例如：</p>
<table>
<thead>
<tr>
<th>char set</th>
<th>意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>abc</td>
<td>表示abc三个连续的字符，但彼此独立而非集合。(可简单视为三个char set)</td>
</tr>
<tr>
<td>(abc)</td>
<td>表示abc这三个连续字符的集合。(可简单视为一个char set)</td>
</tr>
<tr>
<td>abc\</td>
<td>xyz</td>
<td>表示abc或xyz这连个char set之一</td>
</tr>
<tr>
<td>[abc]</td>
<td>表示单一字符，可为a或b或c;与wildcard的[abc]原理相同，称之为字符类。</td>
</tr>
<tr>
<td>[^abc]</td>
<td>表示单一字符，不为a或b或c即可。(与wildcard [!abc]原理相同)</td>
</tr>
<tr>
<td>.</td>
<td>表示任意单个字符，(与wildcard的?原理相同)</td>
</tr>
</tbody>
</table>
<p>note: abc|xyz  表示abc或xyz这连个char set之一</p>
<p>在认识了RE的char set这个概念之后，然后，在让我们多认识几个RE中常见的meta字符：</p>
<p>二、 锚点(anchor): 用以标识RE在句子中的位置所在。<br>常见的有：  </p>
<table>
<thead>
<tr>
<th>锚点</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>表示句首。如，^abc表示以abc开头的句子。</td>
</tr>
<tr>
<td>$</td>
<td>表示句尾。如，abc$表示以abc结尾的句子。</td>
</tr>
<tr>
<td>\&lt;</td>
<td>表示词首。如，\&lt;abc表示以abc开头的词。</td>
</tr>
<tr>
<td>></td>
<td>表示词尾。如，abc>表示以abc结尾的词。</td>
</tr>
</tbody>
</table>
<p>三、 修饰符(modifier)：独立表示时本身不具意义，专门用以修饰前一个char set出现的次数。<br>常见的有：</p>
<table>
<thead>
<tr>
<th>modifier</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>表示前一个char set出现0次或多次，即任意次。如ab*c表示a与c之间可以有0个或多个b。</td>
</tr>
<tr>
<td>?</td>
<td>表示前一个char set出现0次或1次，即至多出现1次。如ab?c 表示a与c之间可以有0个或1个b。</td>
</tr>
<tr>
<td>+</td>
<td>表示前一个char set出现1次或多次，即至少出现1次。如ab+c 表示a与c之间可以有1个或多个b。</td>
</tr>
<tr>
<td>{n}</td>
<td>表示前一个char set出现n次。如ab{n}c 表示a与c之间可以有n个b。</td>
</tr>
<tr>
<td>{n, }</td>
<td>表示前一个char set至少出现n次。如ab{n}c 表示a与c之间至少有n个b。</td>
</tr>
<tr>
<td>{n, m}</td>
<td>表示前一个char set至少出现n次，至多出现m次。如ab{n，m}c 表示a与c之间至少有n个b，至多有m个b。</td>
</tr>
</tbody>
</table>
<p>然而，当我们在识别modifier时，却很容易忽略”边界(boundary)字符”的重要性。</p>
<p>以<code>ab{3,5}c</code>为例，这里的a与c就是边界字符了。<br>若没有边界字符的帮忙，我们很容易做出错误的解读。<br>比方说: 我们用<code>ab{3,5}</code>这个RE（少了c这个边界字符)<br>可以抓到”abbbbbbbbbb”(a后面有10个b)的字符串吗？<br>从刚才的modifier的说明，我们一般认为，我们要的b是3到5个，<br>若超出了此范围，就不是我们所要表达的。<br>因此，我们或许会很轻率地认为这个RE抓不到结果（上述”abbbbbbbbbb”字符串）。</p>
<p>然而，答案却是可以的！为什么呢？<br>让我们重新解读<code>ab{3,5}</code>这个RE看看：<br>我们要表达的是a后接3到5个b即可，但3到5个b后面，我们却没有规定什么，<br>因此，在RE后面可以是任意的字符串，当然包括b也可以啦！(明白了吗？)</p>
<p>同样，我们用<code>b{3,5}c</code>也同样可以抓到”abbbbbbbbbbc”<br>这样的字符串。</p>
<p>但当我们用<code>ab{3,5}c</code>这样的RE时，<br>由于同时有a与c这连个边界字符，就截然不同了！</p>
<p>有空在思考一下，为何我们用下面这些RE都抓到abc这样的字符串呢？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x*</span><br><span class="line">ax*, abx*, ax*b</span><br><span class="line">abcx*, abx*c, ax*bc</span><br><span class="line">bx*c, bcx*, x*bc</span><br></pre></td></tr></table></figure></p>
<p>但, 若我们在这些RE前后分别加<code>^</code>与<code>$</code>这样的anchor，那又如何呢？</p>
<p>刚学RE时，只要能掌握上面这些基本的meta的大概就可以入门了。<br>一如前述，RE是一种规范化的文字表达式，<br>主要用于某些文字处理工具之间，如：<br>grep， perl， vi，awk，sed，等等，<br>常用于表示一段连续的字符串，查找和替换。</p>
<p>然而每种工具对RE表达式的具体解读或有一些细微差别，<br>不过节本原理还是一致的。<br>只要掌握RE的基本原理，那就一理通百理了，<br>只是在实践时，稍加变通即可。</p>
<p>比方以grep来说，<br>在Linux上，你可以找到grep，egrep，fgrep这些程序，<br>其差异大致如下：</p>
<p>grep： 传统的grep程序，在没有任何选项(options)的情况下，只输出符合RE字串的句子，<br> 其常见的选项如下：</p>
<table>
<thead>
<tr>
<th>选项 (option)</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>-v</td>
<td>反模式，  只输出“不含”RE的字符串的行。</td>
</tr>
<tr>
<td>-r</td>
<td>　递归模式，可同时处理所有层级的子目录里的文件</td>
</tr>
<tr>
<td>-q</td>
<td>静默模式，不输出任何结果(stderr 除外，常用于获取return value，符合为true，否则，为false.</td>
</tr>
<tr>
<td>-i</td>
<td>忽略大小写</td>
</tr>
<tr>
<td>-w</td>
<td>整词匹配，类似 \<re\></re\></td>
</tr>
<tr>
<td>-n</td>
<td>同时输出行号</td>
</tr>
<tr>
<td>-l</td>
<td>输出匹配RE的文件名</td>
</tr>
<tr>
<td>-o</td>
<td>只输出匹配RE的字符串。(gna新版独有，不见得所有版本支持)</td>
</tr>
<tr>
<td>-E</td>
<td>切换为egrep</td>
</tr>
</tbody>
</table>
<p>egrep：为grep的扩充版本，改良了许多传统grep不能或者不便的操作，</p>
<ul>
<li>grep下不支持<code>?</code>与<code>+</code>这两种meta，但egrep支持；</li>
<li>grep 不支持<code>a|b</code>或（<code>abc|xyz</code>）这类“或一”的匹配，但egrep支持；</li>
<li>grep 在处理<code>{n,m}</code>时，需要\{ 与 \}处理，但egrep不需。</li>
</ul>
<p>等诸如此类的。我个人建议能用egrep就不用grep啦…^_^</p>
<p>fgrep: 不作RE处理，表达式仅作一般的字符串处理，所有的meta均市区功能。</p>
<p>好了，关于RE的入门，我们暂时就介绍到这里。<br>虽然有点乱，且有些观念也不恨精确，<br>不过，姑且算是对大家的一个交差吧…^_^<br>若这两天有时间的话，我在举些范例来分析一下，以帮助大家更好的理解。<br>假如更有可能的话，也顺道为大家介绍一下sed这个工具。</p>
<hr>
<h3 id="Part-III-eval"><a href="#Part-III-eval" class="headerlink" title="Part-III eval"></a>Part-III eval</h3><p>讲到command line的重组特性，<br>真的需要我们好好的加以解释的。</p>
<p>如此便能抽丝剥茧的一层层的将整个command line分析的<br>一清二楚，而不至于含糊。</p>
<p>假如这个重组的特性理解了，那我们介绍一个好玩的命令：<code>eval</code>.</p>
<p>我们在变量替换的过程中，常会碰到所谓的复式变量的问题：<br>如：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=1</span><br><span class="line">A1=abc</span><br></pre></td></tr></table></figure></p>
<p>我们都知道<code>echo $A1</code>就可以得到abc的结果。<br>然而，我们能否用$A$a来取代$A1，而同一样替换为abc呢？</p>
<p>这个问题我们可用很轻松的用<code>eval</code>来解决：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval echo \$A$a</span><br></pre></td></tr></table></figure></p>
<p>说穿了，<code>eval</code> 只不过是在命令行完成替换重组后，<br>在来一次替换重组罢了…<br>就是这么简单啦～～～ ^_^</p>
<h2 id="shell十三问之16：学习总结与原帖目录"><a href="#shell十三问之16：学习总结与原帖目录" class="headerlink" title="shell十三问之16：学习总结与原帖目录"></a>shell十三问之16：学习总结与原帖目录</h2><p>本人(markdown译者)是解决工作中shell脚本的一个问题，<br>偶尔的一次机会遇到了CU论坛中这样一个神贴：<strong>shell十三问</strong>.</p>
<p>shell十三问是CU的shell版的台湾的<strong>网中人</strong>是2003年用繁体发布的。<br>第一次读到shell十三问，由于是繁体，第一感觉有点抵触，<br>但是还是耐着性子读完了一贴，没想到竟然读懂了，<br>而且还被<strong>网中人</strong>的幽默的写作风格，独到的思维方式，<br>循序渐进的认识事物的过程所折服。</p>
<p>尽管帖子是10多年前写的，今天看来也几乎没有一点过时的感觉。<br>从这个方面来说，shell十三问应该shell的(思想)精华本质所在，<br>就像武功的内功心法，可能我说的点过，<br>但是我曾经看过一本shell脚本学习指南，看完后的感觉，还是有感念很朦胧，<br>而shell十三问是我最容易理解和接受的，这也是我整理的Markdown版本初衷。<br>为什么不让好东西让更多的人熟知呢，恰好年前项目管理开始迁移到git上，<br>在git上认识一个好东西Markdown，用它可以很简单地整理出条例清晰篇章。<br>在年假的时候，觉得这个假期该做点什么，<br>毕竟马总都说了，改变世界，不如改变自己。</p>
<p>本人整理的 [简体中文Markdown版本的shell十三问][shell-markdown] 的链接地址： <a href="https://github.com/wzb56/13_questions_of_shell" target="_blank" rel="noopener">https://github.com/wzb56/13_questions_of_shell</a></p>
<p>网中人的CU原帖<a href="http://bbs.chinaunix.net/thread-218853-1-1.html" target="_blank" rel="noopener">shell十三问</a>地址：<a href="http://bbs.chinaunix.net/thread-218853-1-1.html" target="_blank" rel="noopener">http://bbs.chinaunix.net/thread-218853-1-1.html</a></p>
<p>我简单将原文整理如下：</p>
<p> 我在CU的日子并不长，有幸在shell版上与大家结缘。<br> 除了跟前辈学习到不少技巧之外，也常看到不少朋友的问题。<br> 然而，在众多问题中，我发现许多瓶颈都源于shell的基础而已。<br> 每次要解说，却总有千言万语不知从何而起之感……</p>
<p> 这次，我不是来回答，而是准备了关于shell基础的十三个问题要问大家。<br> 希望的shell的学习者们能够通过寻找答案的过程，好好的将shell基础打扎实一点。</p>
<p> 当然了，这些问题我也会逐一解说一遍。<br> 只是，我不敢保证什么时候能够完成这趟任务。</p>
<p> 除了时间关系外，个人功力实在有限，很怕匆忙间误导观众就糟糕了。<br> 若能抛砖引玉，诱得，其他前辈出马补充，那才是功德一件。</p>
<h3 id="shell十三问："><a href="#shell十三问：" class="headerlink" title="shell十三问："></a>shell十三问：</h3><ol>
<li><a href="http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=218853&amp;page=2#pid1454336" target="_blank" rel="noopener">为何叫做 shell?</a></li>
<li><a href="http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;tid=218853&amp;page=2#pid1467910" target="_blank" rel="noopener">shell prompt(PS1) 与 Carriage Return(CR) 的关系？</a> (2008-10-30 02:05 最后更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=3#pid1482452" target="_blank" rel="noopener">別人 echo、你也 echo ，是问 echo 知多少？</a>( 2008-10-30 02:08 最后更新)    </li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=4#pid1511745" target="_blank" rel="noopener">“ “(双引号) 与 ‘ ‘(单引号)差在哪？</a>  (2008-10-30 02:07 最后更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=5#pid1544391" target="_blank" rel="noopener">var=value 在export前后差在哪？</a> (2008-10-30 02:12 最后更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=6#pid1583329" target="_blank" rel="noopener">exec 跟 source 差在哪?</a> (2008-10-30 02:17 最后更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=6#pid1595135" target="_blank" rel="noopener">( ) 与 { } 差在哪？</a></li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=7#pid1617953" target="_blank" rel="noopener">$(( )) 与 $( ) 还有${ } 差在哪？</a> (2008-10-30 02:20 最后更新)    </li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=7#pid1628522" target="_blank" rel="noopener">$@ 与 $* 差在哪？</a></li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=7#pid1634118" target="_blank" rel="noopener">&amp;&amp; 与 || 差在哪？</a> (2008-10-30 02:21 最后更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=7#pid1636825" target="_blank" rel="noopener">&gt; 与 &lt; 差在哪？</a> (2008-10-30 02:24 最后更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=8#pid1679488" target="_blank" rel="noopener">你要 if 还是 case 呢？</a> (2008-10-30 02:25最后更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=8#pid1692457" target="_blank" rel="noopener">for what? while 与 until 差在哪？</a> (2008-10-30 02:26最后更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=16#pid2930144" target="_blank" rel="noopener">[^ ] 跟 [! ] 差在哪？</a></li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=16#pid2930144" target="_blank" rel="noopener">Part-I: Wildcard</a> (2008-10-30 02:25 最後更新)</li>
<li><a href="http://bbs.chinaunix.net/viewthread.php?tid=218853&amp;extra=&amp;page=16#pid2934852" target="_blank" rel="noopener">Part-II Regular Expression</a> (2008-10-30 02:26 最后更新)</li>
</ol>
<hr>
<p>说明：</p>
<ol>
<li>欢迎大家补充/扩充问题。</li>
<li>我接触电脑的中文名称时是在台湾，因此一些术语或与大陆不同，请自行转换。 </li>
<li>我会不定时”逐题”说明(以 Linux 上的 bash 为环境)同时，也会在任何时候进行无预警的修改。请读者自行留意。</li>
<li>本人于本系列所发表的任文章均可自由以电子格式(非印刷)引用、修改、转载，且不必注明出处(若能注明 CU 更佳)。当然，若有错漏或不当结果，本人也不负任何责任。</li>
<li>若有人愿意整理成册且付印者，本人仅保留著作权，版权收益之 30% 須捐赠于 CU 论坛管理者，剩余不究。</li>
</ol>
<hr>
<p>建议參考谈论:</p>
<ol>
<li>shaoping0330 兄关于变量替换的补充：（链接在改版后已经失效）</li>
<li>shaoping0330 兄<a href="http://bbs.chinaunix.net/forum/viewtopic.php?t=393964" target="_blank" rel="noopener">关于 RE</a> 的说明:</li>
<li>关于 nested subshell 的讨论:（链接在改版后已经失效）</li>
<li><a href="http://bbs.chinaunix.net/forum/viewtopic.php?t=512925" target="_blank" rel="noopener">关于 IFS 的讨论</a>: </li>
</ol>
<hr>
<ul>
<li>感谢 lkydeer 兄整理 <a href="http://bbs.chinaunix.net/viewthread.php?tid=963890&amp;extra=page%3D2" target="_blank" rel="noopener">word/pdf 版本</a>方便大家参考：</li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">Linux</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">shell</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">转</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/01/25/shell十三问/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-git常用命令" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/19/git常用命令/">git常用命令</a>
    </h1>
  

        
        <a href="/2018/01/19/git常用命令/" class="archive-article-date">
  	<time datetime="2018-01-19T03:36:29.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2018-01-19</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-提交"><a href="#1-提交" class="headerlink" title="1. 提交"></a>1. 提交</h2><p>git add .</p>
<p>git commit -m ‘提交信息’</p>
<p>git push</p>
<h2 id="2-分支"><a href="#2-分支" class="headerlink" title="2. 分支"></a>2. 分支</h2><p>git checkout xxxx 切换分支</p>
<p>git checkout -b xxxx 创建并切换分支</p>
<p>git checkout -b xxxx origin/aaaa 将远程分支aaaa映射到本地分支xxxx</p>
<p>git branch -d xxxx 删除分支</p>
<p>git pull origin xxxx 拉取远程xxxx分支到本地分支</p>
<p>–set-upstream 关联远程分支</p>
<h2 id="3-submodule"><a href="#3-submodule" class="headerlink" title="3. submodule"></a>3. submodule</h2><p>git submodule add 仓库地址 路径    添加submodule</p>
<p>git submodule update –init –recursive 更新submodule</p>
<h2 id="4-小技巧"><a href="#4-小技巧" class="headerlink" title="4. 小技巧"></a>4. 小技巧</h2><p>忽略文件权限改变</p>
<p>git config core.filemode false</p>
<p>git 换源然后push上去</p>
<p>git remote set-url origin remote_git_addressxxxx</p>
<p>忽略文件权限命令</p>
<p>git config core.filemode false</p>
<p>记住密码</p>
<p>git config credential.helper ‘cache –timeout=3600’</p>
<p>永久记住密码</p>
<p>git config –global credential.helper store</p>
<p>git回顾到某个commit</p>
<p>git log</p>
<p>git reset –hard 8ff24a6803173208f3e606e32dfcf82db9ac84d8</p>
<p>git换源</p>
<p>git remote remove origin</p>
<p>git remote add origin <a href="https://gitlab.oneitfarm.com/ilive/wyeth.git" target="_blank" rel="noopener">https://gitlab.oneitfarm.com/ilive/wyeth.git</a></p>
<p>git checkout -b test</p>
<p>git branch -D master</p>
<p>git checkout -b master origin/master</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">git</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2018/01/19/git常用命令/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-程序世界" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/06/程序世界/">程序世界</a>
    </h1>
  

        
        <a href="/2017/06/06/程序世界/" class="archive-article-date">
  	<time datetime="2017-06-05T16:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-06-06</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    程序员的世界果然丰富多彩，从前端到后端再到服务器，各种各样，用代码编写世界。后悔在大学里浪费时间，没有早点去进入这个世界。知道越多，越觉得自己渺小。后悔无用，培养自己的意志力吧，奋力前行。去探索更精彩的世界吧。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/随笔//" class="article-tag-list-link color3">随笔</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2017/06/06/程序世界/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
    <article id="post-javascript-study" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/05/javascript-study/">javascript笔记杂谈</a>
    </h1>
  

        
        <a href="/2016/12/05/javascript-study/" class="archive-article-date">
  	<time datetime="2016-12-04T16:00:00.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-12-05</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>js中的区块和大多数的语言不一样，在块里定义外面仍可访问</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">a	<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>js可分为6种数据类型(number, string, boolean, undefined, null, object)，ES6加入第七种Symbol类型的值。</p>
<p>object还可以分成</p>
<blockquote>
<p>狭义的对象（object）</p>
<p>数组（array）</p>
<p>函数（function）</p>
</blockquote>
<p>空数组（[]）和空对象（{}）对应的布尔值都是true</p>
<h3 id="String-对象"><a href="#String-对象" class="headerlink" title="String 对象"></a>String 对象</h3><h4 id="1-concat"><a href="#1-concat" class="headerlink" title="1. concat()"></a>1. concat()</h4><p><code>concat</code>方法连接两个字符串，并返回一个新的字符串，不改变原字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var s1 = &apos;abc&apos;;</span><br><span class="line">var s2 = &apos;def&apos;;</span><br><span class="line"></span><br><span class="line">s1.concat(s2) // &quot;abcdef&quot;</span><br><span class="line">s1 // &quot;abc&quot;</span><br></pre></td></tr></table></figure>
<p>该方法可以接受多个参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;a&apos;.concat(&apos;b&apos;, &apos;c&apos;) // &quot;abc&quot;</span><br></pre></td></tr></table></figure>
<p>如果参数不是字符串，<code>concat</code>方法会将其先转为字符串，然后再连接。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var one = 1;</span><br><span class="line">var two = 2;</span><br><span class="line">var three = &apos;3&apos;;</span><br><span class="line"></span><br><span class="line">&apos;&apos;.concat(one, two, three) // &quot;123&quot;</span><br><span class="line">one + two + three // &quot;33&quot;</span><br></pre></td></tr></table></figure>
<p>上面代码中，<code>concat</code>方法将参数先转成字符串再连接，所以返回的是一个三个字符的字符串。作为对比，加号运算符在两个运算数都是数值时，不会转换类型，所以返回的是一个两个字符的字符串。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/javascript//" class="article-tag-list-link color1">javascript</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2016/12/05/javascript-study/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>




  
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 luanheart
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: true,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};n.m=t,n.c=r,n.p="./",n(0)}([function(t,n,r){r(195),t.exports=r(191)},function(t,n,r){var e=r(3),i=r(52),o=r(27),u=r(28),c=r(53),f="prototype",a=function(t,n,r){var s,l,h,v,p=t&a.F,d=t&a.G,y=t&a.S,g=t&a.P,b=t&a.B,m=d?e:y?e[n]||(e[n]={}):(e[n]||{})[f],x=d?i:i[n]||(i[n]={}),w=x[f]||(x[f]={});d&&(r=n);for(s in r)l=!p&&m&&void 0!==m[s],h=(l?m:r)[s],v=b&&l?c(h,e):g&&"function"==typeof h?c(Function.call,h):h,m&&u(m,s,h,t&a.U),x[s]!=h&&o(x,s,v),g&&w[s]!=h&&(w[s]=h)};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(6);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(126)("wks"),i=r(76),o=r(3).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(94),i=r(33);t.exports=function(t){return e(i(t))}},function(t,n,r){t.exports=!r(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(2),i=r(167),o=r(50),u=Object.defineProperty;n.f=r(10)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){t.exports=!r(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(14),i=r(22);t.exports=r(12)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(20),i=r(58),o=r(42),u=Object.defineProperty;n.f=r(12)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(40)("wks"),i=r(23),o=r(5).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){var e=r(67),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(46);t.exports=function(t){return Object(e(t))}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(63),i=r(34);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(21);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(11),i=r(66);t.exports=r(10)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(3),i=r(27),o=r(24),u=r(76)("src"),c="toString",f=Function[c],a=(""+f).split(c);r(52).inspectSource=function(t){return f.call(t)},(t.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,function(){return"function"==typeof this&&this[u]||f.call(this)})},function(t,n,r){var e=r(1),i=r(4),o=r(46),u=function(t,n,r,e){var i=String(o(t)),u="<"+n;return""!==r&&(u+=" "+r+'="'+String(e).replace(/"/g,"&quot;")+'"'),u+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(u),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n,r){var e=r(115),i=r(46);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(116),i=r(66),o=r(30),u=r(50),c=r(24),f=r(167),a=Object.getOwnPropertyDescriptor;n.f=r(10)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(24),i=r(17),o=r(145)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(14).f,i=r(8),o=r(15)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(40)("keys"),i=r(23);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(5),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(21);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(36),u=r(44),c=r(14).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){n.f=r(15)},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){var e=r(4);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(53),i=r(115),o=r(17),u=r(16),c=r(203);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var d,y,g=o(n),b=i(g),m=e(c,p,3),x=u(b.length),w=0,S=r?v(n,x):f?v(n,0):void 0;x>w;w++)if((h||w in b)&&(d=b[w],y=m(d,w,g),t))if(r)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:S.push(d)}else if(s)return!1;return l?-1:a||s?s:S}}},function(t,n,r){var e=r(1),i=r(52),o=r(4);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(6);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(91),u=r(13),c="prototype",f=function(t,n,r){var a,s,l,h=t&f.F,v=t&f.G,p=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,b=v?i:i[n]||(i[n]={}),m=b[c],x=v?e:p?e[n]:(e[n]||{})[c];v&&(r=n);for(a in r)(s=!h&&x&&void 0!==x[a])&&a in b||(l=s?x[a]:r[a],b[a]=v&&"function"!=typeof x[a]?r[a]:y&&s?o(l,e):g&&x[a]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[c]=t[c],n}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((b.virtual||(b.virtual={}))[a]=l,t&f.R&&m&&!m[a]&&u(m,a,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(26);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(183),i=r(1),o=r(126)("metadata"),u=o.store||(o.store=new(r(186))),c=function(t,n,r){var i=u.get(t);if(!i){if(!r)return;u.set(t,i=new e)}var o=i.get(n);if(!o){if(!r)return;i.set(n,o=new e)}return o},f=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},a=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},v=function(t){i(i.S,"Reflect",t)};t.exports={store:u,map:c,has:f,get:a,set:s,keys:l,key:h,exp:v}},function(t,n,r){"use strict";if(r(10)){var e=r(69),i=r(3),o=r(4),u=r(1),c=r(127),f=r(152),a=r(53),s=r(68),l=r(66),h=r(27),v=r(73),p=r(67),d=r(16),y=r(75),g=r(50),b=r(24),m=r(180),x=r(114),w=r(6),S=r(17),_=r(137),O=r(70),E=r(32),P=r(71).f,j=r(154),F=r(76),M=r(7),A=r(48),N=r(117),T=r(146),I=r(155),k=r(80),L=r(123),R=r(74),C=r(130),D=r(160),U=r(11),W=r(31),G=U.f,B=W.f,V=i.RangeError,z=i.TypeError,q=i.Uint8Array,K="ArrayBuffer",J="Shared"+K,Y="BYTES_PER_ELEMENT",H="prototype",$=Array[H],X=f.ArrayBuffer,Q=f.DataView,Z=A(0),tt=A(2),nt=A(3),rt=A(4),et=A(5),it=A(6),ot=N(!0),ut=N(!1),ct=I.values,ft=I.keys,at=I.entries,st=$.lastIndexOf,lt=$.reduce,ht=$.reduceRight,vt=$.join,pt=$.sort,dt=$.slice,yt=$.toString,gt=$.toLocaleString,bt=M("iterator"),mt=M("toStringTag"),xt=F("typed_constructor"),wt=F("def_constructor"),St=c.CONSTR,_t=c.TYPED,Ot=c.VIEW,Et="Wrong length!",Pt=A(1,function(t,n){return Tt(T(t,t[wt]),n)}),jt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ft=!!q&&!!q[H].set&&o(function(){new q(1).set({})}),Mt=function(t,n){if(void 0===t)throw z(Et);var r=+t,e=d(t);if(n&&!m(r,e))throw V(Et);return e},At=function(t,n){var r=p(t);if(r<0||r%n)throw V("Wrong offset!");return r},Nt=function(t){if(w(t)&&_t in t)return t;throw z(t+" is not a typed array!")},Tt=function(t,n){if(!(w(t)&&xt in t))throw z("It is not a typed array constructor!");return new t(n)},It=function(t,n){return kt(T(t,t[wt]),n)},kt=function(t,n){for(var r=0,e=n.length,i=Tt(t,e);e>r;)i[r]=n[r++];return i},Lt=function(t,n,r){G(t,n,{get:function(){return this._d[r]}})},Rt=function(t){var n,r,e,i,o,u,c=S(t),f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,h=j(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&f>2&&(s=a(s,arguments[2],2)),n=0,r=d(c.length),i=Tt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},Ct=function(){for(var t=0,n=arguments.length,r=Tt(this,n);n>t;)r[t]=arguments[t++];return r},Dt=!!q&&o(function(){gt.call(new q(1))}),Ut=function(){return gt.apply(Dt?dt.call(Nt(this)):Nt(this),arguments)},Wt={copyWithin:function(t,n){return D.call(Nt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(Nt(this),arguments)},filter:function(t){return It(this,tt(Nt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return et(Nt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Nt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Nt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ut(Nt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Nt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return vt.apply(Nt(this),arguments)},lastIndexOf:function(t){return st.apply(Nt(this),arguments)},map:function(t){return Pt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Nt(this),arguments)},reduceRight:function(t){return ht.apply(Nt(this),arguments)},reverse:function(){for(var t,n=this,r=Nt(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return nt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Nt(this),t)},subarray:function(t,n){var r=Nt(this),e=r.length,i=y(t,e);return new(T(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,d((void 0===n?e:y(n,e))-i))}},Gt=function(t,n){return It(this,dt.call(Nt(this),t,n))},Bt=function(t){Nt(this);var n=At(arguments[1],1),r=this.length,e=S(t),i=d(e.length),o=0;if(i+n>r)throw V(Et);for(;o<i;)this[n+o]=e[o++]},Vt={entries:function(){return at.call(Nt(this))},keys:function(){return ft.call(Nt(this))},values:function(){return ct.call(Nt(this))}},zt=function(t,n){return w(t)&&t[_t]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},qt=function(t,n){return zt(t,n=g(n,!0))?l(2,t[n]):B(t,n)},Kt=function(t,n,r){return!(zt(t,n=g(n,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?G(t,n,r):(t[n]=r.value,t)};St||(W.f=qt,U.f=Kt),u(u.S+u.F*!St,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Kt}),o(function(){yt.call({})})&&(yt=gt=function(){return vt.call(this)});var Jt=v({},Wt);v(Jt,Vt),h(Jt,bt,Vt.values),v(Jt,{slice:Gt,set:Bt,constructor:function(){},toString:yt,toLocaleString:Ut}),Lt(Jt,"buffer","b"),Lt(Jt,"byteOffset","o"),Lt(Jt,"byteLength","l"),Lt(Jt,"length","e"),G(Jt,mt,{get:function(){return this[_t]}}),t.exports=function(t,n,r,f){f=!!f;var a=t+(f?"Clamped":"")+"Array",l="Uint8Array"!=a,v="get"+t,p="set"+t,y=i[a],g=y||{},b=y&&E(y),m=!y||!c.ABV,S={},_=y&&y[H],j=function(t,r){var e=t._d;return e.v[v](r*n+e.o,jt)},F=function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[p](r*n+i.o,e,jt)},M=function(t,n){G(t,n,{get:function(){return j(this,n)},set:function(t){return F(this,n,t)},enumerable:!0})};m?(y=r(function(t,r,e,i){s(t,y,a,"_d");var o,u,c,f,l=0,v=0;if(w(r)){if(!(r instanceof X||(f=x(r))==K||f==J))return _t in r?kt(y,r):Rt.call(y,r);o=r,v=At(e,n);var p=r.byteLength;if(void 0===i){if(p%n)throw V(Et);if((u=p-v)<0)throw V(Et)}else if((u=d(i)*n)+v>p)throw V(Et);c=u/n}else c=Mt(r,!0),u=c*n,o=new X(u);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new Q(o)});l<c;)M(t,l++)}),_=y[H]=O(Jt),h(_,"constructor",y)):L(function(t){new y(null),new y(t)},!0)||(y=r(function(t,r,e,i){s(t,y,a);var o;return w(r)?r instanceof X||(o=x(r))==K||o==J?void 0!==i?new g(r,At(e,n),i):void 0!==e?new g(r,At(e,n)):new g(r):_t in r?kt(y,r):Rt.call(y,r):new g(Mt(r,l))}),Z(b!==Function.prototype?P(g).concat(P(b)):P(g),function(t){t in y||h(y,t,g[t])}),y[H]=_,e||(_.constructor=y));var A=_[bt],N=!!A&&("values"==A.name||void 0==A.name),T=Vt.values;h(y,xt,!0),h(_,_t,a),h(_,Ot,!0),h(_,wt,y),(f?new y(1)[mt]==a:mt in _)||G(_,mt,{get:function(){return a}}),S[a]=y,u(u.G+u.W+u.F*(y!=g),S),u(u.S,a,{BYTES_PER_ELEMENT:n,from:Rt,of:Ct}),Y in _||h(_,Y,n),u(u.P,a,Wt),R(a),u(u.P+u.F*Ft,a,{set:Bt}),u(u.P+u.F*!N,a,Vt),u(u.P+u.F*(_.toString!=yt),a,{toString:yt}),u(u.P+u.F*o(function(){new y(1).slice()}),a,{slice:Gt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),a,{toLocaleString:Ut}),k[a]=N?A:T,e||N||h(_,bt,T)}}else t.exports=function(){}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(21),i=r(5).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){t.exports=!r(12)&&!r(18)(function(){return 7!=Object.defineProperty(r(57)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){"use strict";var e=r(36),i=r(51),o=r(64),u=r(13),c=r(8),f=r(35),a=r(96),s=r(38),l=r(103),h=r(15)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n,r){var e=r(20),i=r(100),o=r(34),u=r(39)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(57)("iframe"),e=o.length;for(n.style.display="none",r(93).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(63),i=r(34).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(8),i=r(9),o=r(90)(!1),u=r(39)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){t.exports=r(13)},function(t,n,r){var e=r(76)("meta"),i=r(6),o=r(24),u=r(11).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(4)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n){t.exports=!1},function(t,n,r){var e=r(2),i=r(173),o=r(133),u=r(145)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(132)("iframe"),e=o.length;for(n.style.display="none",r(135).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(175),i=r(133).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(175),i=r(133);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(28);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){"use strict";var e=r(3),i=r(11),o=r(10),u=r(7)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(67),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(33);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(7)("unscopables"),i=Array.prototype;void 0==i[e]&&r(27)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){var e=r(53),i=r(169),o=r(137),u=r(2),c=r(16),f=r(154),a={},s={},n=t.exports=function(t,n,r,l,h){var v,p,d,y,g=h?function(){return t}:f(t),b=e(r,l,n?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(v=c(t.length);v>m;m++)if((y=n?b(u(p=t[m])[0],p[1]):b(t[m]))===a||y===s)return y}else for(d=g.call(t);!(p=d.next()).done;)if((y=i(d,b,p.value,n))===a||y===s)return y};n.BREAK=a,n.RETURN=s},function(t,n){t.exports={}},function(t,n,r){var e=r(11).f,i=r(24),o=r(7)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(1),i=r(46),o=r(4),u=r(150),c="["+u+"]",f="​",a=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=o(function(){return!!u[t]()||f[t]()!=f}),a=i[t]=c?n(h):u[t];r&&(i[r]=a),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(s,"")),t};t.exports=l},function(t,n,r){t.exports={default:r(86),__esModule:!0}},function(t,n,r){t.exports={default:r(87),__esModule:!0}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(84),o=e(i),u=r(83),c=e(u),f="function"==typeof c.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":typeof t};n.default="function"==typeof c.default&&"symbol"===f(o.default)?function(t){return void 0===t?"undefined":f(t)}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":void 0===t?"undefined":f(t)}},function(t,n,r){r(110),r(108),r(111),r(112),t.exports=r(25).Symbol},function(t,n,r){r(109),r(113),t.exports=r(44).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,r){var e=r(9),i=r(106),o=r(105);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){var e=r(88);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(19),i=r(62),o=r(37);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){t.exports=r(5).document&&document.documentElement},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(60),i=r(22),o=r(38),u={};r(13)(u,r(15)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){var e=r(19),i=r(9);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){var e=r(23)("meta"),i=r(21),o=r(8),u=r(14).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(18)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n,r){var e=r(14),i=r(20),o=r(19);t.exports=r(12)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(37),i=r(22),o=r(9),u=r(42),c=r(8),f=r(58),a=Object.getOwnPropertyDescriptor;n.f=r(12)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(9),i=r(61).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(8),i=r(77),o=r(39)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(41),i=r(33);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(41),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(41),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){"use strict";var e=r(89),i=r(97),o=r(35),u=r(9);t.exports=r(59)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){},function(t,n,r){"use strict";var e=r(104)(!0);r(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(5),i=r(8),o=r(12),u=r(51),c=r(64),f=r(99).KEY,a=r(18),s=r(40),l=r(38),h=r(23),v=r(15),p=r(44),d=r(43),y=r(98),g=r(92),b=r(95),m=r(20),x=r(9),w=r(42),S=r(22),_=r(60),O=r(102),E=r(101),P=r(14),j=r(19),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(61).f=O.f=Z,r(37).f=X,r(62).f=tt,o&&!r(36)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(13)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){r(43)("asyncIterator")},function(t,n,r){r(43)("observable")},function(t,n,r){r(107);for(var e=r(5),i=r(13),o=r(35),u=r(15)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var a=c[f],s=e[a],l=s&&s.prototype;l&&!l[u]&&i(l,u,a),o[a]=o.Array}},function(t,n,r){var e=r(45),i=r(7)("toStringTag"),o="Arguments"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n,r){var e=r(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(30),i=r(16),o=r(75);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){"use strict";var e=r(3),i=r(1),o=r(28),u=r(73),c=r(65),f=r(79),a=r(68),s=r(6),l=r(4),h=r(123),v=r(81),p=r(136);t.exports=function(t,n,r,d,y,g){var b=e[t],m=b,x=y?"set":"add",w=m&&m.prototype,S={},_=function(t){var n=w[t];o(w,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof m&&(g||w.forEach&&!l(function(){(new m).entries().next()}))){var O=new m,E=O[x](g?{}:-0,1)!=O,P=l(function(){O.has(1)}),j=h(function(t){new m(t)}),F=!g&&l(function(){for(var t=new m,n=5;n--;)t[x](n,n);return!t.has(-0)});j||(m=n(function(n,r){a(n,m,t);var e=p(new b,n,m);return void 0!=r&&f(r,y,e[x],e),e}),m.prototype=w,w.constructor=m),(P||F)&&(_("delete"),_("has"),y&&_("get")),(F||E)&&_(x),g&&w.clear&&delete w.clear}else m=d.getConstructor(n,t,y,x),u(m.prototype,r),c.NEED=!0;return v(m,t),S[t]=m,i(i.G+i.W+i.F*(m!=b),S),g||d.setStrong(m,t,y),m}},function(t,n,r){"use strict";var e=r(27),i=r(28),o=r(4),u=r(46),c=r(7);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}
},function(t,n,r){"use strict";var e=r(2);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(6),i=r(45),o=r(7)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(7)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){t.exports=r(69)||!r(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(3)[t]})},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(3),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){for(var e,i=r(3),o=r(27),u=r(76),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;t.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},function(t,n){"use strict";var r={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),weixin:-1==t.indexOf("MicroMessenger")}}()};t.exports=r},function(t,n,r){"use strict";var e=r(85),i=function(t){return t&&t.__esModule?t:{default:t}}(e),o=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):r[t]||t}function n(t){return e[t]}var r={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},e={};for(var u in r)e[r[u]]=u;return r["&apos;"]="'",e["'"]="&#39;",{encode:function(t){return t?(""+t).replace(/['<> "&]/g,n).replace(/\r?\n/g,"<br/>").replace(/\s/g,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(/<br\s*\/?>/gi,"\n").replace(/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,t).replace(/\u00a0/g," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r+=2)n.push(String.fromCharCode("0x"+t.slice(r,r+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,r=t.length;r>n;n++)t[n]=o.encodeObject(t[n]);else if("object"==(void 0===t?"undefined":(0,i.default)(t)))for(var e in t)t[e]=o.encodeObject(t[e]);else if("string"==typeof t)return o.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=o},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=function(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),f=u>2?arguments[2]:void 0,a=void 0===f?r:i(f,r);a>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(11),i=r(66);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(6),i=r(3).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(7)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){t.exports=r(3).document&&document.documentElement},function(t,n,r){var e=r(6),i=r(144).set;t.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},function(t,n,r){var e=r(80),i=r(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){var e=r(45);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(70),i=r(66),o=r(81),u={};r(27)(u,r(7)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(69),i=r(1),o=r(28),u=r(27),c=r(24),f=r(80),a=r(139),s=r(81),l=r(32),h=r(7)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){var e=r(3),i=r(151).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(45)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(o){var s=!0,l=document.createTextNode("");new o(a).observe(l,{characterData:!0}),r=function(){l.data=s=!s}}else if(c&&c.resolve){var h=c.resolve();r=function(){h.then(a)}}else r=function(){i.call(e,a)};return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n,r){var e=r(6),i=r(2),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{e=r(53)(Function.call,r(31).f(Object.prototype,"__proto__").set,2),e(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:o}},function(t,n,r){var e=r(126)("keys"),i=r(76);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(2),i=r(26),o=r(7)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(67),i=r(46);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(122),i=r(46);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){"use strict";var e=r(67),i=r(46);t.exports=function(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,n,r){var e,i,o,u=r(53),c=r(121),f=r(135),a=r(132),s=r(3),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,d=0,y={},g="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},m=function(t){b.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return y[++d]=function(){c("function"==typeof t?t:Function(t),n)},e(d),d},v=function(t){delete y[t]},"process"==r(45)(l)?e=function(t){l.nextTick(u(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=m,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",m,!1)):e=g in a("script")?function(t){f.appendChild(a("script"))[g]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:v}},function(t,n,r){"use strict";var e=r(3),i=r(10),o=r(69),u=r(127),c=r(27),f=r(73),a=r(4),s=r(68),l=r(67),h=r(16),v=r(71).f,p=r(11).f,d=r(130),y=r(81),g="ArrayBuffer",b="DataView",m="prototype",x="Wrong length!",w="Wrong index!",S=e[g],_=e[b],O=e.Math,E=e.RangeError,P=e.Infinity,j=S,F=O.abs,M=O.pow,A=O.floor,N=O.log,T=O.LN2,I="buffer",k="byteLength",L="byteOffset",R=i?"_b":I,C=i?"_l":k,D=i?"_o":L,U=function(t,n,r){var e,i,o,u=Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?M(2,-24)-M(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===P?(i=t!=t?1:0,e=f):(e=A(N(t)/T),t*(o=M(2,-e))<1&&(e--,o*=2),t+=e+a>=1?s/o:s*M(2,1-a),t*o>=2&&(e++,o/=2),e+a>=f?(i=0,e=f):e+a>=1?(i=(t*o-1)*M(2,n),e+=a):(i=t*M(2,a-1)*M(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u},W=function(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;c>0;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-P:P;e+=M(2,n),s-=u}return(a?-1:1)*e*M(2,s-n)},G=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},B=function(t){return[255&t]},V=function(t){return[255&t,t>>8&255]},z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return U(t,52,8)},K=function(t){return U(t,23,4)},J=function(t,n,r){p(t[m],n,{get:function(){return this[r]}})},Y=function(t,n,r,e){var i=+r,o=l(i);if(i!=o||o<0||o+n>t[C])throw E(w);var u=t[R]._b,c=o+t[D],f=u.slice(c,c+n);return e?f:f.reverse()},H=function(t,n,r,e,i,o){var u=+r,c=l(u);if(u!=c||c<0||c+n>t[C])throw E(w);for(var f=t[R]._b,a=c+t[D],s=e(+i),h=0;h<n;h++)f[a+h]=s[o?h:n-h-1]},$=function(t,n){s(t,S,g);var r=+n,e=h(r);if(r!=e)throw E(x);return e};if(u.ABV){if(!a(function(){new S})||!a(function(){new S(.5)})){S=function(t){return new j($(this,t))};for(var X,Q=S[m]=j[m],Z=v(j),tt=0;Z.length>tt;)(X=Z[tt++])in S||c(S,X,j[X]);o||(Q.constructor=S)}var nt=new _(new S(2)),rt=_[m].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||f(_[m],{setInt8:function(t,n){rt.call(this,t,n<<24>>24)},setUint8:function(t,n){rt.call(this,t,n<<24>>24)}},!0)}else S=function(t){var n=$(this,t);this._b=d.call(Array(n),0),this[C]=n},_=function(t,n,r){s(this,_,b),s(t,S,b);var e=t[C],i=l(n);if(i<0||i>e)throw E("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw E(x);this[R]=t,this[D]=i,this[C]=r},i&&(J(S,k,"_l"),J(_,I,"_b"),J(_,k,"_l"),J(_,L,"_o")),f(_[m],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var n=Y(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=Y(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return G(Y(this,4,t,arguments[1]))},getUint32:function(t){return G(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return W(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return W(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){H(this,1,t,B,n)},setUint8:function(t,n){H(this,1,t,B,n)},setInt16:function(t,n){H(this,2,t,V,n,arguments[2])},setUint16:function(t,n){H(this,2,t,V,n,arguments[2])},setInt32:function(t,n){H(this,4,t,z,n,arguments[2])},setUint32:function(t,n){H(this,4,t,z,n,arguments[2])},setFloat32:function(t,n){H(this,4,t,K,n,arguments[2])},setFloat64:function(t,n){H(this,8,t,q,n,arguments[2])}});y(S,g),y(_,b),c(_[m],u.VIEW,!0),n[g]=S,n[b]=_},function(t,n,r){var e=r(3),i=r(52),o=r(69),u=r(182),c=r(11).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(114),i=r(7)("iterator"),o=r(80);t.exports=r(52).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){"use strict";var e=r(78),i=r(170),o=r(80),u=r(30);t.exports=r(140)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){function r(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=r},function(t,n){function r(t,n){if(t.classList)t.classList.remove(n);else{var r=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(r," ")}}t.exports=r},function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(n){try{return s.call(null,t,0)}catch(n){return s.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&v&&(d=!1,v.length?p=v.concat(p):y=-1,p.length&&c())}function c(){if(!d){var t=i(u);d=!0;for(var n=p.length;n;){for(v=p,p=[];++y<n;)v&&v[y].run();y=-1,n=p.length}v=null,d=!1,o(t)}}function f(t,n){this.fun=t,this.array=n}function a(){}var s,l,h=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var v,p=[],d=!1,y=-1;h.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];p.push(new f(t,n)),1!==p.length||d||i(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.prependListener=a,h.prependOnceListener=a,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,n,r){var e=r(45);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=[].copyWithin||function(t,n){var r=e(this),u=o(r.length),c=i(t,u),f=i(n,u),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?u:i(a,u))-f,u-c),l=1;for(f<c&&c<f+s&&(l=-1,f+=s-1,c+=s-1);s-- >0;)f in r?r[c]=r[f]:delete r[c],c+=l,f+=l;return r}},function(t,n,r){var e=r(79);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){var e=r(26),i=r(17),o=r(115),u=r(16);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(26),i=r(6),o=r(121),u=[].slice,c={},f=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),c=function(){var e=r.concat(u.call(arguments));return this instanceof c?f(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n,r){"use strict";var e=r(11).f,i=r(70),o=r(73),u=r(53),c=r(68),f=r(46),a=r(79),s=r(140),l=r(170),h=r(74),v=r(10),p=r(65).fastKey,d=v?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,s){var l=t(function(t,e){c(t,l,n,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&a(e,r,t[s],t)});return o(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=this,r=y(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){c(this,l,"forEach");for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(this,t)}}),v&&e(l.prototype,"size",{get:function(){return f(this[d])}}),l},def:function(t,n,r){var e,i,o=y(t,n);return o?o.v=r:(t._l=o={i:i=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,n,r){s(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?l(0,r.k):"values"==n?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),h(n)}}},function(t,n,r){var e=r(114),i=r(161);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,n,r){"use strict";var e=r(73),i=r(65).getWeak,o=r(2),u=r(6),c=r(68),f=r(79),a=r(48),s=r(24),l=a(5),h=a(6),v=0,p=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},y=function(t,n){return l(t.a,function(t){return t[0]===n})};d.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var r=y(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=h(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._i=v++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{delete:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).has(t):n&&s(n,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?p(t).set(n,r):e[t._i]=r,t},ufstore:p}},function(t,n,r){t.exports=!r(10)&&!r(4)(function(){return 7!=Object.defineProperty(r(132)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(6),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n,r){var e=r(2);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){"use strict";var e=r(72),i=r(125),o=r(116),u=r(17),c=r(115),f=Object.assign;t.exports=!f||r(4)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=i.f,l=o.f;f>a;)for(var h,v=c(arguments[a++]),p=s?e(v).concat(s(v)):e(v),d=p.length,y=0;d>y;)l.call(v,h=p[y++])&&(r[h]=v[h]);return r}:f},function(t,n,r){var e=r(11),i=r(2),o=r(72);t.exports=r(10)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(30),i=r(71).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(24),i=r(30),o=r(117)(!1),u=r(145)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){var e=r(72),i=r(30),o=r(116).f;t.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),f=c.length,a=0,s=[];f>a;)o.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},function(t,n,r){var e=r(71),i=r(125),o=r(2),u=r(3).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(3).parseFloat,i=r(82).trim;t.exports=1/e(r(150)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(3).parseInt,i=r(82).trim,o=r(150),u=/^[\-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(16),i=r(149),o=r(46);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){n.f=r(7)},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){r(10)&&"g"!=/./g.flags&&r(11).f(RegExp.prototype,"flags",{configurable:!0,get:r(120)})},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(48)(0),o=r(28),u=r(65),c=r(172),f=r(166),a=r(6),s=u.getWeak,l=Object.isExtensible,h=f.ufstore,v={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(a(t)){var n=s(t);return!0===n?h(this).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(this,t,n)}},y=t.exports=r(118)("WeakMap",p,d,f,!0,!0);7!=(new y).set((Object.freeze||Object)(v),7).get(v)&&(e=f.getConstructor(p),c(e.prototype,d),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=y.prototype,r=n[t];o(n,t,function(n,i){if(a(n)&&!l(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},,,,function(t,n){"use strict";function r(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){document.querySelectorAll(".article-entry a:not(.article-more-a)").forEach(function(t){var n=t.getAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}if(yiliaConfig&&yiliaConfig.toc_hide_index){document.querySelectorAll(".toc-number").forEach(function(t){t.style.display="none"})}var n=document.querySelector("#js-aboutme");n&&0!==n.length&&(n.innerHTML=n.innerText)}t.exports={init:r}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var r=/\/|index.html/g;return t.replace(r,"")===n.replace(r,"")}function o(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,r=0,e=t.length;r<e;r++){var o=t[r];i(n,o.getAttribute("href"))&&(0,h.default)(o,"active")}}function u(t){for(var n=t.offsetLeft,r=t.offsetParent;null!==r;)n+=r.offsetLeft,r=r.offsetParent;return n}function c(t){for(var n=t.offsetTop,r=t.offsetParent;null!==r;)n+=r.offsetTop,r=r.offsetParent;return n}function f(t,n,r,e,i){var o=u(t),f=c(t)-n;if(f-r<=i){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,d.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(r||f)+"px",a.style.left=o+"px",a.style.zIndex=e||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");f(t,document.body.scrollTop,-63,2,0),f(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}var l=r(156),h=e(l),v=r(157),p=(e(v),r(382)),d=e(p),y=r(128),g=e(y),b=r(190),m=e(b),x=r(129);(function(){g.default.versions.mobile&&window.screen.width<800&&(o(),s())})(),(0,x.addLoadEvent)(function(){m.default.init()}),t.exports={}},,,,function(t,n,r){(function(t){"use strict";function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(381),r(391),r(198),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,function(){return this}())},,,function(t,n,r){r(210),t.exports=r(52).RegExp.escape},,,,function(t,n,r){var e=r(6),i=r(138),o=r(7)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){var e=r(202);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){"use strict";var e=r(2),i=r(50),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),t!=o)}},function(t,n,r){var e=r(72),i=r(125),o=r(116);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(72),i=r(30);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){"use strict";var e=r(208),i=r(121),o=r(26);t.exports=function(){for(var t=o(this),n=arguments.length,r=Array(n),u=0,c=e._,f=!1;n>u;)(r[u]=arguments[u++])===c&&(f=!0);return function(){var e,o=this,u=arguments.length,a=0,s=0;if(!f&&!u)return i(t,r,o);if(e=r.slice(),f)for(;n>a;a++)e[a]===c&&(e[a]=arguments[s++]);for(;u>s;)e.push(arguments[s++]);return i(t,e,o)}}},function(t,n,r){t.exports=r(3)},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n,r){var e=r(1),i=r(209)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(t){return i(t)}})},function(t,n,r){var e=r(1);e(e.P,"Array",{copyWithin:r(160)}),r(78)("copyWithin")},function(t,n,r){"use strict";var e=r(1),i=r(48)(4);e(e.P+e.F*!r(47)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.P,"Array",{fill:r(130)}),r(78)("fill")},function(t,n,r){"use strict";var e=r(1),i=r(48)(2);e(e.P+e.F*!r(47)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(5),o="find",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(0),o=r(47)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(53),i=r(1),o=r(17),u=r(169),c=r(137),f=r(16),a=r(131),s=r(154);i(i.S+i.F*!r(123)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,g=0,b=s(h);if(y&&(d=e(d,p>2?arguments[2]:void 0,2)),void 0==b||v==Array&&c(b))for(n=f(h.length),r=new v(n);n>g;g++)a(r,g,y?d(h[g],g):h[g]);else for(l=b.call(h),r=new v;!(i=l.next()).done;g++)a(r,g,y?u(l,d,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(1),i=r(117)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(47)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.S,"Array",{isArray:r(138)})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=[].join;e(e.P+e.F*(r(115)!=Object||!r(47)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=r(67),u=r(16),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(47)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(1);e(e.P+e.F*!r(47)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(131);e(e.S+e.F*r(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(135),o=r(45),u=r(75),c=r(16),f=[].slice;e(e.P+e.F*r(4)(function(){i&&f.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return f.call(this,t,n);for(var i=u(t,r),a=u(n,r),s=c(a-i),l=Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(3);e(e.P+e.F*!r(47)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(26),o=r(17),u=r(4),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(47)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){r(74)("Array")},function(t,n,r){var e=r(1);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=Date.prototype.getTime,u=function(t){return t>9?t:"0"+t};e(e.P+e.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){
if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50);e(e.P+e.F*r(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){var e=r(7)("toPrimitive"),i=Date.prototype;e in i||r(27)(i,e,r(204))},function(t,n,r){var e=Date.prototype,i="Invalid Date",o="toString",u=e[o],c=e.getTime;new Date(NaN)+""!=i&&r(28)(e,o,function(){var t=c.call(this);return t===t?u.call(this):i})},function(t,n,r){var e=r(1);e(e.P,"Function",{bind:r(163)})},function(t,n,r){"use strict";var e=r(6),i=r(32),o=r(7)("hasInstance"),u=Function.prototype;o in u||r(11).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(11).f,i=r(66),o=r(24),u=Function.prototype,c="name",f=Object.isExtensible||function(){return!0};c in u||r(10)&&e(u,c,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(/^\s*function ([^ (]*)/)[1];return o(t,c)||!f(t)||e(t,c,i(5,n)),n}catch(t){return""}}})},function(t,n,r){var e=r(1),i=r(171),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(1),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:e})},function(t,n,r){var e=r(1),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(1),i=r(142);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(1),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(1),i=r(141);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(1),i=r(142),o=Math.pow,u=o(2,-52),c=o(2,-23),f=o(2,127)*(2-c),a=o(2,-126),s=function(t){return t+1/u-1/u};e(e.S,"Math",{fround:function(t){var n,r,e=Math.abs(t),o=i(t);return e<a?o*s(e/a/c)*a*c:(n=(1+c/u)*e,r=n-(n-e),r>f||r!=r?o*(1/0):o*r)}})},function(t,n,r){var e=r(1),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,o=0,u=0,c=arguments.length,f=0;u<c;)r=i(arguments[u++]),f<r?(e=f/r,o=o*e*e+1,f=r):r>0?(e=r/f,o+=e*e):o+=r;return f===1/0?1/0:f*Math.sqrt(o)}})},function(t,n,r){var e=r(1),i=Math.imul;e(e.S+e.F*r(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=65535,e=+t,i=+n,o=r&e,u=r&i;return 0|o*u+((r&e>>>16)*u+o*(r&i>>>16)<<16>>>0)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log1p:r(171)})},function(t,n,r){var e=r(1);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(1);e(e.S,"Math",{sign:r(142)})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S+e.F*r(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(t,n,r){var e=r(1);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(45),u=r(136),c=r(50),f=r(4),a=r(71).f,s=r(31).f,l=r(11).f,h=r(82).trim,v="Number",p=e[v],d=p,y=p.prototype,g=o(r(70)(y))==v,b="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=b?n.trim():h(n,3);var r,e,i,o=n.charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,f=n.slice(2),a=0,s=f.length;a<s;a++)if((u=f.charCodeAt(a))<48||u>i)return NaN;return parseInt(f,e)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof p&&(g?f(function(){y.valueOf.call(r)}):o(r)!=v)?u(new d(m(n)),r,p):m(n)};for(var x,w=r(10)?a(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(d,x=w[S])&&!i(p,x)&&l(p,x,s(d,x));p.prototype=y,y.constructor=p,r(28)(e,v,p)}},function(t,n,r){var e=r(1);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(1),i=r(3).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(1);e(e.S,"Number",{isInteger:r(168)})},function(t,n,r){var e=r(1);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(1),i=r(168),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,r){var e=r(1);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(1);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(1),i=r(178);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){"use strict";var e=r(1),i=r(67),o=r(159),u=r(149),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},v=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call(l,7-r.length)+r}return n},d=function(t,n,r){return 0===n?r:n%2==1?d(t,n-1,r*t):d(t*t,n/2,r)},y=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,f=o(this,s),a=i(t),g="",b=l;if(a<0||a>20)throw RangeError(s);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(g="-",f=-f),f>1e-21)if(n=y(f*d(2,69,1))-69,r=n<0?f*d(2,-n,1):f/d(2,n,1),r*=4503599627370496,(n=52-n)>0){for(h(0,r),e=a;e>=7;)h(1e7,0),e-=7;for(h(d(10,e,1),0),e=n-1;e>=23;)v(1<<23),e-=23;v(1<<e),h(1,1),v(2),b=p()}else h(0,r),h(1<<-n,0),b=p()+u.call(l,a);return a>0?(c=b.length,b=g+(c<=a?"0."+u.call(l,a-c)+b:b.slice(0,c-a)+"."+b.slice(c-a))):b=g+b,b}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=r(159),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(1);e(e.S+e.F,"Object",{assign:r(172)})},function(t,n,r){var e=r(1);e(e.S,"Object",{create:r(70)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperties:r(173)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperty:r(11).f})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(30),i=r(31).f;r(49)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){r(49)("getOwnPropertyNames",function(){return r(174).f})},function(t,n,r){var e=r(17),i=r(32);r(49)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6);r(49)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(6);r(49)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(6);r(49)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(1);e(e.S,"Object",{is:r(180)})},function(t,n,r){var e=r(17),i=r(72);r(49)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(1);e(e.S,"Object",{setPrototypeOf:r(144).set})},function(t,n,r){"use strict";var e=r(114),i={};i[r(7)("toStringTag")]="z",i+""!="[object z]"&&r(28)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(1),i=r(178);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){"use strict";var e,i,o,u=r(69),c=r(3),f=r(53),a=r(114),s=r(1),l=r(6),h=r(26),v=r(68),p=r(79),d=r(146),y=r(151).set,g=r(143)(),b="Promise",m=c.TypeError,x=c.process,w=c[b],x=c.process,S="process"==a(x),_=function(){},O=!!function(){try{var t=w.resolve(1),n=(t.constructor={})[r(7)("species")]=function(t){t(_,_)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(_)instanceof n}catch(t){}}(),E=function(t,n){return t===n||t===w&&n===o},P=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},j=function(t){return E(w,t)?new F(t):new i(t)},F=i=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw m("Bad Promise constructor");n=t,r=e}),this.resolve=h(n),this.reject=h(r)},M=function(t){try{t()}catch(t){return{error:t}}},A=function(t,n){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var e=t._v,i=1==t._s,o=0;r.length>o;)!function(n){var r,o,u=i?n.ok:n.fail,c=n.resolve,f=n.reject,a=n.domain;try{u?(i||(2==t._h&&I(t),t._h=1),!0===u?r=e:(a&&a.enter(),r=u(e),a&&a.exit()),r===n.promise?f(m("Promise-chain cycle")):(o=P(r))?o.call(r,c,f):c(r)):f(e)}catch(t){f(t)}}(r[o++]);t._c=[],t._n=!1,n&&!t._h&&N(t)})}},N=function(t){y.call(c,function(){var n,r,e,i=t._v;if(T(t)&&(n=M(function(){S?x.emit("unhandledRejection",i,t):(r=c.onunhandledrejection)?r({promise:t,reason:i}):(e=c.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=S||T(t)?2:1),t._a=void 0,n)throw n.error})},T=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!T(n.promise))return!1;return!0},I=function(t){y.call(c,function(){var n;S?x.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})})},k=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),A(n,!0))},L=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw m("Promise can't be resolved itself");(n=P(t))?g(function(){var e={_w:r,_d:!1};try{n.call(t,f(L,e,1),f(k,e,1))}catch(t){k.call(e,t)}}):(r._v=t,r._s=1,A(r,!1))}catch(t){k.call({_w:r,_d:!1},t)}}};O||(w=function(t){v(this,w,b,"_h"),h(t),e.call(this);try{t(f(L,this,1),f(k,this,1))}catch(t){k.call(this,t)}},e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=r(73)(w.prototype,{then:function(t,n){var r=j(d(this,w));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=S?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),F=function(){var t=new e;this.promise=t,this.resolve=f(L,t,1),this.reject=f(k,t,1)}),s(s.G+s.W+s.F*!O,{Promise:w}),r(81)(w,b),r(74)(b),o=r(52)[b],s(s.S+s.F*!O,b,{reject:function(t){var n=j(this);return(0,n.reject)(t),n.promise}}),s(s.S+s.F*(u||!O),b,{resolve:function(t){if(t instanceof w&&E(t.constructor,this))return t;var n=j(this);return(0,n.resolve)(t),n.promise}}),s(s.S+s.F*!(O&&r(123)(function(t){w.all(t).catch(_)})),b,{all:function(t){var n=this,r=j(n),e=r.resolve,i=r.reject,o=M(function(){var r=[],o=0,u=1;p(t,!1,function(t){var c=o++,f=!1;r.push(void 0),u++,n.resolve(t).then(function(t){f||(f=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o&&i(o.error),r.promise},race:function(t){var n=this,r=j(n),e=r.reject,i=M(function(){p(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i&&e(i.error),r.promise}})},function(t,n,r){var e=r(1),i=r(26),o=r(2),u=(r(3).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(4)(function(){u(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),f=o(r);return u?u(e,n,f):c.call(e,n,f)}})},function(t,n,r){var e=r(1),i=r(70),o=r(26),u=r(2),c=r(6),f=r(4),a=r(163),s=(r(3).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(a.apply(t,e))}var f=r.prototype,v=i(c(f)?f:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},function(t,n,r){var e=r(11),i=r(1),o=r(2),u=r(50);i(i.S+i.F*r(4)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(31).f,o=r(2);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(1),i=r(2),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(139)(o,"Object",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,r){var e=r(31),i=r(1),o=r(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,r){var e=r(1),i=r(32),o=r(2);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,r){function e(t,n){var r,c,s=arguments.length<3?t:arguments[2];return a(t)===s?t[n]:(r=i.f(t,n))?u(r,"value")?r.value:void 0!==r.get?r.get.call(s):void 0:f(c=o(t))?e(c,n,s):void 0}var i=r(31),o=r(32),u=r(24),c=r(1),f=r(6),a=r(2);c(c.S,"Reflect",{get:e})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(1),i=r(2),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{ownKeys:r(177)})},function(t,n,r){var e=r(1),i=r(2),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(144);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){function e(t,n,r){var f,h,v=arguments.length<4?t:arguments[3],p=o.f(s(t),n);if(!p){if(l(h=u(t)))return e(h,n,r,v);p=a(0)}return c(p,"value")?!(!1===p.writable||!l(v)||(f=o.f(v,n)||a(0),f.value=r,i.f(v,n,f),0)):void 0!==p.set&&(p.set.call(v,r),!0)}var i=r(11),o=r(31),u=r(32),c=r(24),f=r(1),a=r(66),s=r(2),l=r(6);f(f.S,"Reflect",{set:e})},function(t,n,r){var e=r(3),i=r(136),o=r(11).f,u=r(71).f,c=r(122),f=r(120),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(10)&&(!p||r(4)(function(){return v[r(7)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),o=void 0===n;return!r&&e&&t.constructor===a&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&o?f.call(t):n),r?this:l,a)};for(var d=u(s),y=0;d.length>y;)!function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}(d[y++]);l.constructor=a,a.prototype=l,r(28)(e,"RegExp",a)}r(74)("RegExp")},function(t,n,r){r(119)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("replace",2,function(t,n,r){return[function(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},function(t,n,r){r(119)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("split",2,function(t,n,e){"use strict";var i=r(122),o=e,u=[].push,c="split",f="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[f]||2!="ab"[c](/(?:ab)*/)[f]||4!="."[c](/(.?)(.?)/)[f]||"."[c](/()()/)[f]>1||""[c](/.?/)[f]){var s=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,c,l,h,v,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=void 0===n?4294967295:n>>>0,b=new RegExp(t.source,d+"g");for(s||(e=new RegExp("^"+b.source+"$(?!\\s)",d));(c=b.exec(r))&&!((l=c.index+c[0][f])>y&&(p.push(r.slice(y,c.index)),!s&&c[f]>1&&c[0].replace(e,function(){for(v=1;v<arguments[f]-2;v++)void 0===arguments[v]&&(c[v]=void 0)}),c[f]>1&&c.index<r[f]&&u.apply(p,c.slice(1)),h=c[0][f],y=l,p[f]>=g));)b[a]===c.index&&b[a]++;return y===r[f]?!h&&b.test("")||p.push(""):p.push(r.slice(y)),p[f]>g?p.slice(0,g):p}}else"0"[c](void 0,0)[f]&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function(r,i){var o=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},e]})},function(t,n,r){"use strict";r(184);var e=r(2),i=r(120),o=r(10),u="toString",c=/./[u],f=function(t){r(28)(RegExp.prototype,u,t,!0)};r(4)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?f(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):c.name!=u&&f(function(){return c.call(this)})},function(t,n,r){"use strict";r(29)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){"use strict";r(29)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(29)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(29)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="endsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{endsWith:function(t){var n=o(this,t,u),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),f=void 0===r?e:Math.min(i(r),e),a=String(t);return c?c.call(n,a,f):n.slice(f-a.length,f)===a}})},function(t,n,r){"use strict";r(29)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(29)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(29)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){var e=r(1),i=r(75),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){"use strict";var e=r(1),i=r(148),o="includes";e(e.P+e.F*r(134)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";r(29)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";var e=r(147)(!0);r(140)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";r(29)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){var e=r(1),i=r(30),o=r(16);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){var e=r(1);e(e.P,"String",{repeat:r(149)})},function(t,n,r){"use strict";r(29)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="startsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{startsWith:function(t){var n=o(this,t,u),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return c?c.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(29)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(29)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(29)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){"use strict";r(82)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(10),u=r(1),c=r(28),f=r(65).KEY,a=r(4),s=r(126),l=r(81),h=r(76),v=r(7),p=r(182),d=r(153),y=r(206),g=r(205),b=r(138),m=r(2),x=r(30),w=r(50),S=r(66),_=r(70),O=r(174),E=r(31),P=r(11),j=r(72),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(71).f=O.f=Z,r(116).f=X,r(125).f=tt,o&&!r(69)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(27)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){"use strict";var e=r(1),i=r(127),o=r(152),u=r(2),c=r(75),f=r(16),a=r(6),s=r(3).ArrayBuffer,l=r(146),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,d=h.prototype.slice,y=i.VIEW,g="ArrayBuffer";e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||a(t)&&y in t}}),e(e.P+e.U+e.F*r(4)(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(f(i-e)),a=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,a.getUint8(e++));return o}}),r(74)(g)},function(t,n,r){var e=r(1);e(e.G+e.W+e.F*!r(127).ABV,{DataView:r(152).DataView})},function(t,n,r){r(55)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){"use strict";var e=r(166);r(118)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(1),i=r(117)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)("includes")},function(t,n,r){var e=r(1),i=r(143)(),o=r(3).process,u="process"==r(45)(o);e(e.G,{asap:function(t){var n=u&&o.domain;i(n?n.bind(t):t)}})},function(t,n,r){var e=r(1),i=r(45);e(e.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Map",{toJSON:r(165)("Map")})},function(t,n,r){var e=r(1);e(e.S,"Math",{iaddh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o+(e>>>0)+((i&u|(i|u)&~(i+u>>>0))>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{imulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>16,f=i>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>16)+((o*f>>>0)+(a&r)>>16)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{isubh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o-(e>>>0)-((~i&u|~(i^u)&i-u>>>0)>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{umulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>>16,f=i>>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>>16)+((o*f>>>0)+(a&r)>>>16)}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineGetter__:function(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineSetter__:function(t,n){u.f(i(this),t,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){var e=r(1),i=r(176)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){var e=r(1),i=r(177),o=r(30),u=r(31),c=r(131);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r=o(t),e=u.f,f=i(r),a={},s=0;f.length>s;)c(a,n=f[s++],e(r,n));return a}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupGetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupSetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})},function(t,n,r){var e=r(1),i=r(176)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){"use strict";var e=r(1),i=r(3),o=r(52),u=r(143)(),c=r(7)("observable"),f=r(26),a=r(2),s=r(68),l=r(73),h=r(27),v=r(79),p=v.RETURN,d=function(t){return null==t?void 0:f(t)},y=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},b=function(t){g(t)||(t._o=void 0,y(t))},m=function(t,n){a(t),this._c=void 0,this._o=t,t=new x(this);try{var r=n(t),e=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:f(r),this._c=r)}catch(n){return void t.error(n)}g(this)&&y(this)};m.prototype=l({},{unsubscribe:function(){b(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function(t){var n=this._s;if(!g(n)){var r=n._o;try{var e=d(r.next);if(e)return e.call(r,t)}catch(t){try{b(n)}finally{throw t}}}},error:function(t){var n=this._s;if(g(n))throw t;var r=n._o;n._o=void 0;try{var e=d(r.error);if(!e)throw t;t=e.call(r,t)}catch(t){try{y(n)}finally{throw t}}return y(n),t},complete:function(t){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var e=d(r.complete);t=e?e.call(r,t):void 0}catch(t){try{y(n)}finally{throw t}}return y(n),t}}});var w=function(t){s(this,w,"Observable","_f")._f=f(t)};l(w.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var n=this;return new(o.Promise||i.Promise)(function(r,e){f(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(t){e(t),i.unsubscribe()}},error:e,complete:r})})}}),l(w,{from:function(t){var n="function"==typeof this?this:w,r=d(a(t)[c]);if(r){var e=a(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return u(function(){if(!r){try{if(v(t,!1,function(t){if(n.next(t),r)return p})===p)return}catch(t){if(r)throw t;return void n.error(t)}n.complete()}}),function(){r=!0}})},of:function(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(w.prototype,c,function(){return this}),e(e.G,{Observable:w}),r(74)("Observable")},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.set;e.exp({defineMetadata:function(t,n,r,e){u(t,n,i(r),o(e))}})},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function(t,n){var r=arguments.length<3?void 0:o(arguments[2]),e=u(i(n),r,!1);if(void 0===e||!e.delete(t))return!1;if(e.size)return!0;var f=c.get(n);return f.delete(r),!!f.size||c.delete(n)}})},function(t,n,r){var e=r(185),i=r(161),o=r(54),u=r(2),c=r(32),f=o.keys,a=o.key,s=function(t,n){var r=f(t,n),o=c(t);if(null===o)return r;var u=s(o,n);return u.length?r.length?i(new e(r.concat(u))):u:r};o.exp({getMetadataKeys:function(t){return s(u(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.get,f=e.key,a=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=o(n);return null!==e?a(t,e,r):void 0};e.exp({getMetadata:function(t,n){return a(t,i(n),arguments.length<3?void 0:f(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function(t){
return o(i(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.get,u=e.key;e.exp({getOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.key,f=function(t,n,r){if(u(t,n,r))return!0;var e=o(n);return null!==e&&f(t,e,r)};e.exp({hasMetadata:function(t,n){return f(t,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.has,u=e.key;e.exp({hasOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(26),u=e.key,c=e.set;e.exp({metadata:function(t,n){return function(r,e){c(t,n,(void 0!==e?i:o)(r),u(e))}}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Set",{toJSON:r(165)("Set")})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!0);e(e.P,"String",{at:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(46),o=r(16),u=r(122),c=r(120),f=RegExp.prototype,a=function(t,n){this._r=t,this._s=n};r(139)(a,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var n=String(this),r="flags"in f?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return e.lastIndex=o(t.lastIndex),new a(e,n)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){"use strict";r(82)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,n,r){"use strict";r(82)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,n,r){r(153)("asyncIterator")},function(t,n,r){r(153)("observable")},function(t,n,r){var e=r(1);e(e.S,"System",{global:r(3)})},function(t,n,r){for(var e=r(155),i=r(28),o=r(3),u=r(27),c=r(80),f=r(7),a=f("iterator"),s=f("toStringTag"),l=c.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],v=0;v<5;v++){var p,d=h[v],y=o[d],g=y&&y.prototype;if(g){g[a]||u(g,a,l),g[s]||u(g,s,d),c[d]=l;for(p in e)g[p]||i(g,p,e[p],!0)}}},function(t,n,r){var e=r(1),i=r(151);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){var e=r(3),i=r(1),o=r(121),u=r(207),c=e.navigator,f=!!c&&/MSIE .\./.test(c.userAgent),a=function(t){return f?function(n,r){return t(o(u,[].slice.call(arguments,2),"function"==typeof n?n:Function(n)),r)}:t};i(i.G+i.B+i.F*f,{setTimeout:a(e.setTimeout),setInterval:a(e.setInterval)})},function(t,n,r){r(330),r(269),r(271),r(270),r(273),r(275),r(280),r(274),r(272),r(282),r(281),r(277),r(278),r(276),r(268),r(279),r(283),r(284),r(236),r(238),r(237),r(286),r(285),r(256),r(266),r(267),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(317),r(322),r(329),r(320),r(312),r(313),r(318),r(323),r(325),r(308),r(309),r(310),r(311),r(314),r(315),r(316),r(319),r(321),r(324),r(326),r(327),r(328),r(231),r(233),r(232),r(235),r(234),r(220),r(218),r(224),r(221),r(227),r(229),r(217),r(223),r(214),r(228),r(212),r(226),r(225),r(219),r(222),r(211),r(213),r(216),r(215),r(230),r(155),r(302),r(307),r(184),r(303),r(304),r(305),r(306),r(287),r(183),r(185),r(186),r(342),r(331),r(332),r(337),r(340),r(341),r(335),r(338),r(336),r(339),r(333),r(334),r(288),r(289),r(290),r(291),r(292),r(295),r(293),r(294),r(296),r(297),r(298),r(299),r(301),r(300),r(343),r(369),r(372),r(371),r(373),r(374),r(370),r(375),r(376),r(354),r(357),r(353),r(351),r(352),r(355),r(356),r(346),r(368),r(377),r(345),r(347),r(349),r(348),r(350),r(359),r(360),r(362),r(361),r(364),r(363),r(365),r(366),r(367),r(344),r(358),r(380),r(379),r(378),t.exports=r(52)},function(t,n){function r(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var r=t.nextSibling;return r?t.parentNode.insertBefore(n,r):t.parentNode.appendChild(n)}t.exports=r},,,,,,,,,function(t,n,r){(function(n,r){!function(n){"use strict";function e(t,n,r,e){var i=n&&n.prototype instanceof o?n:o,u=Object.create(i.prototype),c=new p(e||[]);return u._invoke=s(t,r,c),u}function i(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function o(){}function u(){}function c(){}function f(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function a(t){function n(r,e,o,u){var c=i(t[r],t,e);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"==typeof a&&m.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}function e(t,r){function e(){return new Promise(function(e,i){n(t,r,e,i)})}return o=o?o.then(e,e):e()}"object"==typeof r&&r.domain&&(n=r.domain.bind(n));var o;this._invoke=e}function s(t,n,r){var e=P;return function(o,u){if(e===F)throw new Error("Generator is already running");if(e===M){if("throw"===o)throw u;return y()}for(r.method=o,r.arg=u;;){var c=r.delegate;if(c){var f=l(c,r);if(f){if(f===A)continue;return f}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===P)throw e=M,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=F;var a=i(t,n,r);if("normal"===a.type){if(e=r.done?M:j,a.arg===A)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e=M,r.method="throw",r.arg=a.arg)}}}function l(t,n){var r=t.iterator[n.method];if(r===g){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=g,l(t,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var e=i(r,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,A;var o=e.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=g),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function h(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function v(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var n=t[w];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(m.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=g,n.done=!0,n};return e.next=e}}return{next:y}}function y(){return{value:g,done:!0}}var g,b=Object.prototype,m=b.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},w=x.iterator||"@@iterator",S=x.asyncIterator||"@@asyncIterator",_=x.toStringTag||"@@toStringTag",O="object"==typeof t,E=n.regeneratorRuntime;if(E)return void(O&&(t.exports=E));E=n.regeneratorRuntime=O?t.exports:{},E.wrap=e;var P="suspendedStart",j="suspendedYield",F="executing",M="completed",A={},N={};N[w]=function(){return this};var T=Object.getPrototypeOf,I=T&&T(T(d([])));I&&I!==b&&m.call(I,w)&&(N=I);var k=c.prototype=o.prototype=Object.create(N);u.prototype=k.constructor=c,c.constructor=u,c[_]=u.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_ in t||(t[_]="GeneratorFunction")),t.prototype=Object.create(k),t},E.awrap=function(t){return{__await:t}},f(a.prototype),a.prototype[S]=function(){return this},E.AsyncIterator=a,E.async=function(t,n,r,i){var o=new a(e(t,n,r,i));return E.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},f(k),k[_]="Generator",k.toString=function(){return"[object Generator]"},E.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},E.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(v),!t)for(var n in this)"t"===n.charAt(0)&&m.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return o.type="throw",o.arg=t,r.next=n,e&&(r.method="next",r.arg=g),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=m.call(i,"catchLoc"),c=m.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&m.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),v(r),A}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;v(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:d(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=g),A}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(n,function(){return this}(),r(158))}])</script><script src="/./main.0cf68a.js"></script><script>!function(){!function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)}("/slider.e37972.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">友链</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">git</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">laravel</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">composer</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">shell</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">转</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、请确保node版本大于6.2<br/>2、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    
    	<section class="tools-section tools-section-friends" q-show="friends">
  		
        <ul class="search-ul">
          
            <li class="search-li">
              <a href="https://laravel-china.org/topics" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>Laravel China</a>
            </li>
          
            <li class="search-li">
              <a href="https://hexo.io/zh-cn/docs/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>Hexo 中文文档</a>
            </li>
          
        </ul>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">努力学习&lt;br&gt;多写写博客&lt;br&gt;╮(╯▽╰)╭</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>